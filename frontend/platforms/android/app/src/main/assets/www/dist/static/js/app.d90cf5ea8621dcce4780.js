webpackJsonp([1],{"/miC":function(e,t){},"1Yfx":function(e,t){},"2PnV":function(e,t){},"8McR":function(e,t){},"FYT+":function(e,t){},HbM7:function(e,t){},"In/G":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("//Fk"),i=a.n(s),n=a("7+uW"),l={name:"App",mounted:function(){},updated:function(){console.log("updated method called."),localStorage.locale&&(this.$i18n.locale=localStorage.locale,this.setLocale())},watch:{},data:function(){return{}},methods:{changeLocale:function(e){localStorage.locale=this.$i18n.locale,e&&location.reload()},setLocale:function(){var e=document.querySelector("body"),t=document.querySelector(".sidenav"),a=M.Sidenav.getInstance(t),s=a.options;a.destroy(),"en"==this.$i18n.locale?(e.classList.remove("rtl"),document.querySelector("html").dir="ltr",s.edge="left",a=M.Sidenav.init(t,s),document.getElementById("otimsTitle").classList.remove("left-align"),document.getElementById("otimsTitle").classList.add("right-align")):(e.classList.add("rtl"),document.querySelector("html").dir="rtl",document.querySelector("body").style.fontFamily="Tahoma",s.edge="right",a=M.Sidenav.init(t,s),document.getElementById("otimsTitle").classList.remove("right-align"),document.getElementById("otimsTitle").classList.add("left-align"))},logoutNow:function(){console.log("Logging out"),this.$store.commit("setUser",null),localStorage.email="",localStorage.password="",localStorage.remember="",this.$router.push("/login")}},computed:{userObj:function(){return this.$store.getters.userObj},userNodeObj:function(){return this.$store.getters.userNodeObj},lccUrl:function(){var e=this.$http.defaults.baseURL,t=e.lastIndexOf("/");return e.substring(0,t)+"/lccuser"}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.$route.meta.plainLayout?e._e():s("div",[s("div",[s("ul",{staticClass:"sidenav",attrs:{id:"slide-out"}},[s("li",[s("div",{staticClass:"user-view"},[s("div",{staticClass:"background navbar-background"}),e._v(" "),s("img",{staticClass:"circle",attrs:{src:a("cP0U")}}),e._v(" "),s("span",{staticClass:"white-text name"},[e._v(e._s(e.userObj.name))]),e._v(" "),s("span",{staticClass:"white-text email"},[e._v(e._s(e.userObj.email))]),e._v(" "),s("span",{staticClass:"white-text email",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.userNodeObj.title))])])]),e._v(" "),s("li",[s("div",{staticClass:"form-field",staticStyle:{padding:"5px","margin-top":"-12px"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],attrs:{id:"localeSelect"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.$i18n,"locale",t.target.multiple?a:a[0])},function(t){return e.changeLocale(!0)}]}},[s("option",{attrs:{value:"en"}},[e._v("English")]),e._v(" "),s("option",{attrs:{value:"ps"}},[e._v("پښتو")]),e._v(" "),s("option",{attrs:{value:"da"}},[e._v("دری")])])])]),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"homeBtn",to:"/home"}},[s("i",{staticClass:"material-icons left"},[e._v("home")]),e._v("\n            "+e._s(e.$t("text.menu_dashboard"))+"\n          ")])],1),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"sendPackageBtn",to:"/send-package"}},[s("i",{staticClass:"material-icons left"},[e._v("file_upload")]),e._v("\n            "+e._s(e.$t("text.menu_send_package"))+"\n          ")])],1),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"recvPackageBtn",to:"/receive-package"}},[s("i",{staticClass:"material-icons left"},[e._v("file_download")]),e._v("\n            "+e._s(e.$t("text.menu_receive_package"))+"\n          ")])],1),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"currentBalanceBtn",to:"/current-balance"}},[s("i",{staticClass:"material-icons left"},[e._v("view_list")]),e._v("\n            "+e._s(e.$t("text.menu_current_inventory"))+"\n          ")])],1),e._v(" "),e._m(0),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"studentDistBtn",to:"/student-dist"}},[s("i",{staticClass:"material-icons left"},[e._v("transfer_within_a_station")]),e._v("\n            "+e._s(e.$t("text.menu_distribute_to_students"))+"\n          ")])],1),e._v(" "),e.userObj.admin?s("li",[s("ul",[e._m(1),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"reportsBtn",to:"/reports"}},[s("i",{staticClass:"material-icons left"},[e._v("data_usage")]),e._v("\n                "+e._s(e.$t("text.menu_distribution_reports"))+"\n              ")])],1),e._v(" "),s("li",[s("a",{staticClass:"waves-effect sidenav-close",attrs:{id:"manageUsersBtn",href:e.lccUrl,target:"_blank"}},[s("i",{staticClass:"material-icons left"},[e._v("code")]),e._v("\n                "+e._s(e.$t("text.menu_manage_users"))+"\n              ")])]),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"manageNodesBtn",to:"/admin/nodes"}},[s("i",{staticClass:"material-icons left"},[e._v("code")]),e._v("\n                "+e._s(e.$t("text.menu_manage_nodes"))+"\n              ")])],1),e._v(" "),s("li",[s("router-link",{staticClass:"waves-effect sidenav-close",attrs:{id:"managePackagesBtn",to:"/admin/packages"}},[s("i",{staticClass:"material-icons left"},[e._v("code")]),e._v("\n                "+e._s(e.$t("text.menu_manage_packages"))+"\n              ")])],1)])]):e._e(),e._v(" "),e._m(2),e._v(" "),s("li",[s("a",{staticClass:"waves-effect sidenav-close",attrs:{href:"#!",id:"logoutBtn"},on:{click:e.logoutNow}},[s("i",{staticClass:"material-icons left"},[e._v("power_settings_new")]),e._v("\n            "+e._s(e.$t("text.menu_logout"))+"\n          ")])])]),e._v(" "),s("div",{attrs:{id:"header"}},[s("div",{staticClass:"row"},[e._m(3),e._v(" "),s("div",{staticClass:"col s10"},[s("div",{staticClass:"row right-align"},[s("h3",{staticClass:"right-align",staticStyle:{color:"white","margin-right":"10px","margin-left":"10px"},attrs:{id:"otimsTitle"}},[e._v(e._s(e.$t("text.otims_title")))])])])])])]),e._v(" "),s("vue-progress-bar"),e._v(" "),s("div",{staticStyle:{margin:"5px"}},[s("router-view")],1)],1),e._v(" "),e.$route.meta.plainLayout?s("div",[s("vue-progress-bar"),e._v(" "),s("router-view")],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("div",{staticClass:"divider"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("div",{staticClass:"divider"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("div",{staticClass:"divider"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s2",staticStyle:{"margin-top":"20px"}},[t("a",{staticClass:"sidenav-trigger",attrs:{href:"#","data-target":"slide-out",id:"menuButton"}},[t("i",{staticClass:"material-icons medium",staticStyle:{color:"white"}},[this._v("menu")])])])}]};var r=a("VU/8")(l,o,!1,function(e){a("HbM7")},null,null).exports,d=a("/ocq"),c={name:"Home",mounted:function(){console.log(this.$store.getters.userObj),this.getUserNode(),this.getThirdLanguages(),this.getSentPackages(),this.getReceivedPackages()},data:function(){return{uploadDoc:{type:"",title:"",file:""},showUploadProgress:!1,sentPackages:{},receivedPackages:{},selectedPackageDocs:{sent_docs:[],reciept_docs:[]},sentSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}},recvdSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}}}},methods:{handleFileUpload:function(){this.uploadDoc.file=this.$refs.file.files[0]},uploadShipmentDocument:function(){""!=this.uploadDoc.title&&("sent"==this.uploadDoc.type?this.uploadShipmentSentDocument():"received"==this.uploadDoc.type&&this.uploadShipmentReceivedDocument())},uploadShipmentSentDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("sent_doc[file][0]",this.uploadDoc.file),t.append("sent_doc[shipment_id]",this.sentSelectedPackage.package.id),t.append("sent_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/sent/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert(this.$t("text.upload_document_error"))})},uploadShipmentReceivedDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("recieve_doc[file][0]",this.uploadDoc.file),t.append("recieve_doc[shipment_id]",this.recvdSelectedPackage.allDetails.sent_shipment.id),t.append("recieve_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/receive/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert(this.$t("text.upload_document_error"))})},downloadShipmentDocument:function(e){var t=this;this.$http.get("/shipments/documents/"+e,{responseType:"blob",params:this.$http.defaults.params}).then(function(a){t.forceFileDownload(a,e)}).catch(function(e){console.log(e)})},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(e.data),s=document.createElement("a");s.href=a,s.setAttribute("download","document_"+t),s.click()},getShipmentDocuments:function(e){var t=this;this.$http.get("/shipments/"+e+"/documents",{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.selectedPackageDocs=e.data}).catch(function(e){console.log(e)})},showUploadDialog:function(){this.uploadDoc.title="",this.uploadDoc.file="",this.showUploadProgress=!1;var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).open()},hideUploadDialog:function(){var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).close()},getThirdLanguages:function(){var e=this;this.$http.get("/meta/languages/third",{params:this.$http.defaults.params}).then(function(t){e.$store.commit("setThirdLanguagesObj",t.data)}).catch(function(e){console.log(e)})},loadMoreReceivedPackages:function(){var e=this.receivedPackages.next_page_url,t=this;null!=(e=e.substring(1,e.length))&&this.$http.get("/shipments/received"+e,{params:this.$http.defaults.params}).then(function(e){console.log(e.data);var a=t.receivedPackages.data,s=e.data.data;t.receivedPackages=e.data,t.pushNewReceivedPackages(a,s)}).catch(function(e){console.log(e)})},pushNewReceivedPackages:function(e,t){for(var a in this.receivedPackages.data=e,t)this.receivedPackages.data.push(t[a])},loadMoreSentPackages:function(){var e=this.sentPackages.next_page_url,t=this;null!=(e=e.substring(1,e.length))&&this.$http.get("/shipments/sent"+e,{params:t.$http.defaults.params}).then(function(e){console.log(e.data);var a=t.sentPackages.data,s=e.data.data;t.sentPackages=e.data,t.pushNewSentPackages(a,s)}).catch(function(e){console.log(e)})},pushNewSentPackages:function(e,t){for(var a in this.sentPackages.data=e,t)this.sentPackages.data.push(t[a])},loadReceivePackagePage:function(){this.$store.commit("setReceivingPackage",this.recvdSelectedPackage),this.$router.push("/receive-package")},viewSentPackageDetails:function(e){this.sentSelectedPackage.package=e,this.uploadDoc.type="sent",this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getSentPackageAllDetails(e.id),this.getShipmentDocuments(e.id)},getSentPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/sent/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.sentSelectedPackage.allDetails=e.data,console.log(t.sentSelectedPackage)}).catch(function(e){console.log(e)})},viewRecvdPackageDetails:function(e){this.recvdSelectedPackage.package=e,this.uploadDoc.type="received",this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getRecvdPackageAllDetails(e.recieved_id)},getRecvdPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/received/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.recvdSelectedPackage.allDetails=e.data,console.log(t.recvdSelectedPackage),t.getShipmentDocuments(t.recvdSelectedPackage.allDetails.sent_shipment.id)}).catch(function(e){console.log(e)})},getUserNode:function(){var e=this;this.$http.get("/user/node",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.$store.commit("setNode",t.data)}).catch(function(e){console.log(e)})},getSentPackages:function(){var e=this;this.$http.get("/shipments/sent?page=1",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.sentPackages=t.data}).catch(function(e){console.log(e)})},getReceivedPackages:function(){var e=this;this.$http.get("/shipments/received?page=1",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.receivedPackages=t.data}).catch(function(e){console.log(e)})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"homePage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.sent_packages")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.sentPackages.data,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(t.from_node))]),e._v(" "),a("td",[e._v(e._s(t.to_node))]),e._v(" "),1==t.recieved_status?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved_status?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalSentShipmentDetails"},on:{click:function(a){return e.viewSentPackageDetails(t)}}},[e._v(e._s(e.$t("text.view_details")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.sentPackages.data||!e.sentPackages.data.length>0,expression:"!sentPackages.data || !sentPackages.data.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_sent_package")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),a("router-link",{staticClass:"waves-effect light-blue darken-4 btn-small",attrs:{to:"/send-package",id:"panelNewPackageBtn"}},[e._v(e._s(e.$t("text.send_new_package")))]),e._v(" "),a("a",{staticClass:"waves-effect btn-small",on:{click:e.loadMoreSentPackages}},[e._v(e._s(e.$t("text.view_more")))])],1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.received_packages")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.receivedPackages.data,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v(e._s(e.$t("text.view_details")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.receivedPackages.data||!e.receivedPackages.data.length>0,expression:"!receivedPackages.data || !receivedPackages.data.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_received_package")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),a("router-link",{staticClass:"waves-effect light-blue darken-4 btn-small",attrs:{to:"/receive-package",id:"panelReceivePackageBtn"}},[e._v(e._s(e.$t("text.view_pending_packages")))]),e._v(" "),a("a",{staticClass:"waves-effect btn-small",on:{click:e.loadMoreReceivedPackages}},[e._v(e._s(e.$t("text.view_more")))])],1)])])])]),e._v(" "),a("div",{staticClass:"modal modal-fixed-footer",attrs:{id:"modalSentShipmentDetails"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.shipment_details")))]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.title))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_received")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.total_general))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.description))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_safe")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.total_safe))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.sentSelectedPackage.package.send_date?"":e.moment(e.sentSelectedPackage.package.send_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.sentSelectedPackage.package.send_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_damaged")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.damaged))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.received_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.sentSelectedPackage.package.receive_date?"":e.moment(e.sentSelectedPackage.package.receive_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.sentSelectedPackage.package.receive_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_lost")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.lost))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.from_node))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.to_node))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sender_name")))]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.sender_name))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.current_status")))]),e._v(" "),1==e.sentSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==e.sentSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td"),e._v(" "),a("td")])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("table",{staticClass:"striped"},[a("thead",[a("tr",{staticStyle:{color:"#ee6e73","font-size":"14px !important","text-transform":"uppercase","font-weight":"normal !important"}},[a("td",[e._v(e._s(e.$t("text.document_title")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.type")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.download")))])])]),e._v(" "),a("tbody",[e._l(e.selectedPackageDocs.sent_docs,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.sent")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e._l(e.selectedPackageDocs.reciept_docs,function(t,s){return a("tr",{key:s+4520},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.received")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e.selectedPackageDocs.reciept_docs.length<1&&e.selectedPackageDocs.sent_docs.length<1?a("tr",[a("td",[e._v(e._s(e.$t("text.no_uploaded_documents")))]),e._v(" "),a("td"),e._v(" "),a("td")]):e._e()],2)]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small light-blue darken-4",on:{click:e.showUploadDialog}},[e._v(e._s(e.$t("text.upload_new")))])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col s12"},[a("ul",{staticClass:"tabs"},[a("li",{staticClass:"tab col s3"},[a("a",{staticClass:"active",attrs:{href:"#sent"}},[e._v(e._s(e.$t("text.sent")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#received"}},[e._v(e._s(e.$t("text.received")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#damaged"}},[e._v(e._s(e.$t("text.damaged")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#lost"}},[e._v(e._s(e.$t("text.lost")))])])])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"sent"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"received"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.sent_received_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"damaged"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.receive_dmg_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"lost"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.receive_lost_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v(e._s(e.$t("text.close")))])])]),e._v(" "),a("div",{staticClass:"modal modal-fixed-footer",attrs:{id:"modalRecvdShipmentDetails"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.shipment_details")))]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.title))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_received")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_general))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.description))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_safe")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_safe))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.recvdSelectedPackage.package.send_date?"":e.moment(e.recvdSelectedPackage.package.send_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.recvdSelectedPackage.package.send_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_damaged")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.damaged))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.received_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.recvdSelectedPackage.allDetails.sent_shipment.receive_date?"":e.moment(e.recvdSelectedPackage.allDetails.sent_shipment.receive_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.recvdSelectedPackage.allDetails.sent_shipment.receive_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_lost")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.lost))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.From_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.To_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sender_name")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.sender_name))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.current_status")))]),e._v(" "),1==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))]),e._v(" "),a("a",{staticClass:"waves-effect modal-close light-blue darken-4 btn-small",staticStyle:{"margin-top":"5px","text-transform":"none"},on:{click:e.loadReceivePackagePage}},[a("i",{staticClass:"material-icons left"},[e._v("list")]),e._v("\n                "+e._s(e.$t("text.receive"))+"\n              ")])]):e._e(),e._v(" "),a("td"),e._v(" "),a("td")])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("table",{staticClass:"striped"},[a("thead",[a("tr",{staticStyle:{color:"#ee6e73","font-size":"14px !important","text-transform":"uppercase","font-weight":"normal !important"}},[a("td",[e._v(e._s(e.$t("text.document_title")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.type")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.download")))])])]),e._v(" "),a("tbody",[e._l(e.selectedPackageDocs.sent_docs,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.sent")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e._l(e.selectedPackageDocs.reciept_docs,function(t,s){return a("tr",{key:s+4520},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.received")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e.selectedPackageDocs.reciept_docs.length<1&&e.selectedPackageDocs.sent_docs.length<1?a("tr",[a("td",[e._v(e._s(e.$t("text.no_uploaded_documents")))]),e._v(" "),a("td"),e._v(" "),a("td")]):e._e()],2)]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small light-blue darken-4",on:{click:e.showUploadDialog}},[e._v(e._s(e.$t("text.upload_new")))])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col s12"},[a("ul",{staticClass:"tabs"},[a("li",{staticClass:"tab col s3"},[a("a",{staticClass:"active",attrs:{href:"#r_sent"}},[e._v(e._s(e.$t("text.sent")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_received"}},[e._v(e._s(e.$t("text.received")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_damaged"}},[e._v(e._s(e.$t("text.damaged")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_lost"}},[e._v(e._s(e.$t("text.lost")))])])])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_sent"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_received"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_received_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_damaged"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_dmg_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_lost"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_lost_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v(e._s(e.$t("text.close")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalUploadDocument"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.upload_document")))]),e._v(" "),e.showUploadProgress?e._e():a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"documentTitle"}},[e._v(e._s(e.$t("text.document_title")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.uploadDoc.title,expression:"uploadDoc.title"}],staticClass:"validate",attrs:{type:"text",id:"documentTitle",name:"documentTitle",placeholder:e.$t("text.document_title"),required:"","aria-required":"true"},domProps:{value:e.uploadDoc.title},on:{input:function(t){t.target.composing||e.$set(e.uploadDoc,"title",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"file-field input-field"},[a("div",{staticClass:"btn-small"},[a("span",[e._v(e._s(e.$t("text.select_file")))]),e._v(" "),a("input",{ref:"file",attrs:{type:"file",id:"file",required:""},on:{change:function(t){return e.handleFileUpload()}}})]),e._v(" "),e._m(0)])])]),e._v(" "),e.showUploadProgress?a("div",{staticStyle:{"margin-top":"20px"}},[a("p",[e._v(e._s(e.$t("text.uploading_document_wait")))]),e._v(" "),e._m(1)]):e._e()]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:e.uploadShipmentDocument}},[e._v(e._s(e.$t("text.upload_document")))]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small"},[e._v(e._s(e.$t("text.close")))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-path-wrapper"},[t("input",{staticClass:"file-path validate",attrs:{type:"text"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"indeterminate"})])}]};var _=a("VU/8")(c,v,!1,function(e){a("iKkR")},"data-v-65b40a74",null).exports,u=a("Dd8w"),g=a.n(u),p=a("fZjL"),h=a.n(p),m={name:"SendPackage",mounted:function(){var e=document.querySelector(".collapsible.expandable");M.Collapsible.init(e,{accordion:!1})},created:function(){this.getGrades(),this.getLevels(),this.getProvinces(),this.getProjects(),this.$store.getters.thirdLanguagesObj?this.thirdLanguages=this.$store.getters.thirdLanguagesObj:this.getThirdLanguages()},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},data:function(){return{sendPackageObj:{lang:{}},beingSentAddedGrades:[],beingSentAddedTitles:[],selectedTemplate:"",errorMessages:[],allGrades:[],allLevels:[],allProvinces:[],allProjects:[],thirdLanguages:[],selectedProvinceDistricts:[],selectedLevelChildNodes:[],generalInfo:{title:"",description:"",level:0,province:0,district:0,node:0,project:0,date:"",lang:{},sent_grades:{0:null,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1}},selectedGradeTitles:[],addedGrades:[],addedTitles:[],addTitleDialogInputs:{grade:"",title:""}}},components:{LocalDatePicker:VuePersianDatetimePicker},computed:{beingSentGrandTotal:function(){var e=0;for(var t in this.sendPackageObj.lang)e+=parseInt(this.sendPackageObj.lang[t]);return e},beingSentShipmentRecipientLevel:function(){var e=this,t="";return this.allLevels.find(function(a){a.id==e.sendPackageObj.level_to&&(t=a.title)}),t},beingSentShipmentRecipientProvince:function(){var e=this,t="";return this.allProvinces.find(function(a){a.id==e.sendPackageObj.province_to&&(t=a.en_name)}),t},beingSentShipmentRecipientDistrict:function(){var e=this,t="";return this.selectedProvinceDistricts.find(function(a){a.id==e.sendPackageObj.district_to&&(t=a.en_name)}),t},beingSentShipmentRecipientNode:function(){var e=this,t="";return this.selectedLevelChildNodes.find(function(a){a.id==e.sendPackageObj.to&&(t=a.title)}),t}},watch:{"generalInfo.level":function(){this.generalInfo.province=0},"generalInfo.province":function(e,t){this.generalInfo.district=0,this.getDistricts()},"generalInfo.district":function(e,t){this.generalInfo.node=0,this.getLevelChildNodes()},"addTitleDialogInputs.grade":function(e,t){this.loadGradeTitles(e)},addedTitles:function(e){this.updateAddedGrades()}},methods:{loadTemplate:function(){var e=this.selectedTemplate;"Pashto"==e?this.loadPashtoTemplate():"Dari"==e&&this.loadDariTemplate()},loadPashtoTemplate:function(){this.addedTitles=[],this.generalInfo.lang={};var e=this,t=[3,211,212,213,17,217,218,219,31,223,224,225];this.allGrades.forEach(function(a){1!=a.grade.id&&2!=a.grade.id&&3!=a.grade.id||t.forEach(function(t){a.titles.find(function(a){a.id===t&&e.addedTitles.push(a)})})}),this.updateAddedGrades()},loadDariTemplate:function(){this.addedTitles=[],this.generalInfo.lang={};var e=this,t=[10,210,214,215,24,216,220,221,38,222,226,227];this.allGrades.forEach(function(a){1!=a.grade.id&&2!=a.grade.id&&3!=a.grade.id||t.forEach(function(t){a.titles.find(function(a){a.id===t&&e.addedTitles.push(a)})})}),this.updateAddedGrades()},getThirdLanguages:function(){var e=this;this.$http.get("/meta/languages/third",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.thirdLanguages=t.data}).catch(function(e){console.log(e)})},updateAddedGrades:function(){var e=this,t=this;this.addedGrades=[],this.addedTitles.length>0&&(this.addedTitles.find(function(a){var s=a.grade_id,i=e.allGrades.filter(function(e){if(e.grade.id===s)return e.grade});i=i[0].grade,-1===t.addedGrades.indexOf(i)&&t.addedGrades.push(i)}),this.addedGrades.sort(function(e,t){return e.id-t.id}))},sendPackage:function(e){e.preventDefault(),this.errorMessages=[];if(0!=this.generalInfo.level&&0!=this.generalInfo.node&&h()(this.generalInfo.lang).length>0){var t={};t.title=this.generalInfo.title,t.description=this.generalInfo.description,t.sent_grades=this.generalInfo.sent_grades,t.level_to=this.generalInfo.level.toString(),t.province_to=this.generalInfo.province.toString(),t.district_to=this.generalInfo.district.toString(),t.project_id=this.generalInfo.project.toString(),t.to=this.generalInfo.node.toString(),t.send_date=this.generalInfo.date;var a=this.generalInfo.lang;h()(a).forEach(function(e){""!=a[e]&&null!=a[e]&&void 0!=a[e]&&0!=a[e]||delete a[e]}),t.lang=a,this.addedGrades.forEach(function(e){t.sent_grades[e.id]=!0}),console.log(t);var s=document.querySelector("#modalConfirmSend");M.Modal.getInstance(s).open(),this.sendPackageObj=t,this.confirmSendPackage(t.lang)}else this.scrollToTop(),0==this.generalInfo.level&&this.errorMessages.push(this.$t("text.select_sr_level")),0==this.generalInfo.province&&this.errorMessages.push(this.$t("text.select_sr_province")),0==this.generalInfo.district&&this.errorMessages.push(this.$t("text.select_sr_district")),0==this.generalInfo.node&&this.errorMessages.push(this.$t("text.select_sr_node")),h()(this.generalInfo.lang).length<1&&this.errorMessages.push(this.$t("text.add_some_titles"))},confirmSendPackage:function(e){this.beingSentAddedGrades=[],this.beingSentAddedTitles=[];var t=this,a=[];for(var s in e){var i=s.split("_");a.includes(i[2])||(a.push(i[2]),this.addedGrades.find(function(e){e.id==i[2]&&t.beingSentAddedGrades.push(e)})),this.addedTitles.find(function(a){if(a.id==i[0]){var n=g()({},a);1==i[1]?(n.language="Dari",n.total=e[s]):2==i[1]?(n.language="Pashto",n.total=e[s]):t.thirdLanguages.find(function(t){t.id==i[1]&&(n.language=t.title,n.total=e[s])}),t.beingSentAddedTitles.push(n)}})}this.beingSentAddedGrades.sort(function(e,t){return e.id-t.id}),console.log(this.beingSentAddedGrades),console.log(this.beingSentAddedTitles)},postPackage:function(){var e=this,t=this.sendPackageObj;this.$http.post("/shipments/send",g()({},t),{params:this.$http.defaults.params}).then(function(t){console.log(t.data),alert(t.data.message),e.$router.push("/")}).catch(function(t){console.log(t.response),t.response.data.messages?e.errorMessages=t.response.data.messages:e.errorMessages=[this.$t("text.correct_form_error")],alert(this.$t("text.correct_form_error")),e.scrollToTop()})},scrollToTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},loadGradeTitles:function(e){var t=this.allGrades.filter(function(t){if(t.grade.id===e)return!0});this.selectedGradeTitles=t[0]},getGrades:function(){var e=this;this.$http.get("/meta/grades",{params:this.$http.defaults.params}).then(function(t){e.allGrades=t.data}).catch(function(e){console.log(e)})},getLevels:function(){var e=this;this.$http.get("/meta/levels",{params:this.$http.defaults.params}).then(function(t){e.allLevels=t.data}).catch(function(e){console.log(e)})},getLevelChildNodes:function(){var e=this;0!=this.generalInfo.level&&0!=this.generalInfo.province&&0!=this.generalInfo.district&&this.$http.get("/meta/levels/"+this.generalInfo.level+"/"+this.generalInfo.province+"/"+this.generalInfo.district+"/nodes",{params:this.$http.defaults.params}).then(function(t){e.selectedLevelChildNodes=t.data}).catch(function(e){console.log(e)})},getProjects:function(){var e=this;this.$http.get("/meta/projects",{params:this.$http.defaults.params}).then(function(t){e.allProjects=t.data}).catch(function(e){console.log(e)})},getProvinces:function(){var e=this;this.$http.get("/meta/provinces",{params:this.$http.defaults.params}).then(function(t){e.allProvinces=t.data}).catch(function(e){console.log(e)})},getDistricts:function(){var e=this;this.$http.get("/meta/provinces/"+this.generalInfo.province+"/districts",{params:this.$http.defaults.params}).then(function(t){e.selectedProvinceDistricts=t.data}).catch(function(e){console.log(e)})},removeTitle:function(e,t){if(confirm(this.$t("text.confirm_remove_title"))){var a=this.addedTitles.indexOf(e);console.log(a),this.addedTitles.splice(a,1),delete this.generalInfo.lang[e.id+"_1_"+t],delete this.generalInfo.lang[e.id+"_2_"+t];var s=this;this.thirdLanguages.forEach(function(a){delete s.generalInfo.lang[e.id+"_"+a.id+"_"+t]})}},addNewTitle:function(){var e=this.addTitleDialogInputs.grade,t=this.addTitleDialogInputs.title,a=void 0,s=void 0;(this.allGrades.find(function(i){i.grade.id===e&&(s=i.grade,i.titles.find(function(e){e.id===t&&(a=e)}))}),void 0!=a)?this.addedTitles.find(function(e){return e.id===a.id})?alert(this.$t("text.title_already_added",[a.title,s.title])):this.addedTitles.push(a):alert(this.$t("text.select_specific_grade_title"))},filterTitlesByGrade:function(e){return this.addedTitles.filter(function(t){if(t.grade_id==e)return!0})},filterBeingSentTitlesByGrade:function(e){return this.beingSentAddedTitles.filter(function(t){if(t.grade_id==e)return!0})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"sendPackagePage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.send_new_package_title")))]),e._v(" "),e.errorMessages&&e.errorMessages.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card-panel orange"},[a("div",{staticClass:"white-text"},[a("ul",e._l(e.errorMessages,function(t,s){return a("li",{key:s},[e._v(e._s(t))])}),0)])])])]):e._e()])]),e._v(" "),a("ul",{staticClass:"collapsible expandable"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("info")]),e._v("\n              "+e._s(e.$t("text.package_information"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("form",{attrs:{id:"generalForm"},on:{submit:e.sendPackage}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentTitle"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.title,expression:"generalInfo.title"}],staticClass:"validate",attrs:{type:"text",id:"ShipmentTitle",name:"ShipmentTitle",placeholder:e.$t("text.shipment_title"),required:"","aria-required":"true"},domProps:{value:e.generalInfo.title},on:{input:function(t){t.target.composing||e.$set(e.generalInfo,"title",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentDescription"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.description,expression:"generalInfo.description"}],attrs:{type:"text",id:"ShipmentDescription",name:"ShipmentDescription",placeholder:e.$t("text.shipment_description")},domProps:{value:e.generalInfo.description},on:{input:function(t){t.target.composing||e.$set(e.generalInfo,"description",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentRecipientLevel"}},[e._v(e._s(e.$t("text.shipment_recipient_level")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.level,expression:"generalInfo.level"}],attrs:{id:"ShipmentRecipientLevel",name:"ShipmentRecipientLevel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"level",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_level")))]),e._v(" "),e._l(e.allLevels,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.province,expression:"generalInfo.province"}],attrs:{id:"ShipmentRecipientLevel2",name:"ShipmentRecipientLevel2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"province",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_province")))]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.district,expression:"generalInfo.district"}],attrs:{id:"ShipmentRecipientLevel3",name:"ShipmentRecipientLevel3"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"district",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_district")))]),e._v(" "),e._l(e.selectedProvinceDistricts,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentRecipient"}},[e._v(e._s(e.$t("text.shipment_recipient")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.node,expression:"generalInfo.node"}],attrs:{id:"ShipmentRecipient",name:"ShipmentRecipient"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"node",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_recipient")))]),e._v(" "),e._l(e.selectedLevelChildNodes,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"projectDDL"}},[e._v(e._s(e.$t("text.textbooks_project")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.project,expression:"generalInfo.project"}],attrs:{id:"projectDDL",name:"projectDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"project",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_project")))]),e._v(" "),e._l(e.allProjects,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentTime"}},[e._v(e._s(e.$t("text.shipment_date")))]),e._v(" "),a("local-date-picker",{staticClass:"validate",attrs:{id:"ShipmentTime",name:"ShipmentTime",required:"","aria-required":"true",placeholder:e.$t("text.select_date"),format:"YYYY/M/D",displayFormat:"jYYYY/jM/jD",locale:"fa,en","locale-config":{fa:{lang:{label:"لمريز / شمسی",submit:"ټاکل/تایید",cancel:"بندول/انصراف",now:"اوس/اکنون",nextMonth:"راتلونکې مياشت/ماه بعد",prevMonth:"تېره مياشت/ماه قبل"}},en:{lang:{label:"Gregorian / میلادی"}}}},model:{value:e.generalInfo.date,callback:function(t){e.$set(e.generalInfo,"date",t)},expression:"generalInfo.date"}})],1)])])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("format_list_numbered")]),e._v("\n              "+e._s(e.$t("text.titles_and_quantities"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalAddTitle"}},[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("button",{staticClass:"waves-effect btn btn-small modal-trigger",attrs:{href:"#modalLoadTemplate"}},[e._v(e._s(e.$t("text.load_template")))]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v(e._s(e.$t("text.add_title_help")))]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},e._l(e.addedGrades,function(t,s){return a("div",{key:s},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.title))]),e._v(" "),a("hr",{staticStyle:{border:"2px solid #F8F8F8"}}),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.dari")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.pashto")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.other_languages")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",e._l(e.filterTitlesByGrade(t.id),function(s,i){return a("tr",{key:i},[a("td",[e._v(e._s(s.title))]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_1_"+t.id],expression:"generalInfo.lang[title.id+'_1_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_1_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_1_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_2_"+t.id],expression:"generalInfo.lang[title.id+'_2_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_2_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_2_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:s.thirdLang,expression:"title.thirdLang"}],attrs:{id:"languageDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(s,"thirdLang",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_language")))]),e._v(" "),e._l(e.thirdLanguages,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id],expression:"generalInfo.lang[title.id + '_' + title.thirdLang + '_' +grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_"+s.thirdLang+"_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("i",{staticClass:"material-icons",staticStyle:{color:"red","font-size":"40px"},on:{click:function(a){return e.removeTitle(s,t.id)}}},[e._v("close")])])])}),0)]),e._v(" "),a("br")])}),0)])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("store")]),e._v("\n              "+e._s(e.$t("text.send_package_title"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",attrs:{form:"generalForm",type:"submit"}},[e._v(e._s(e.$t("text.send_package")))]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v(e._s(e.$t("text.send_package_help")))])])])])])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalAddTitle"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.add_title_dialog_help")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"gradeDropdown"}},[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.grade,expression:"addTitleDialogInputs.grade"}],attrs:{id:"gradeDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"grade",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_grade")))]),e._v(" "),e._l(e.allGrades,function(t,s){return a("option",{key:s,domProps:{value:t.grade.id}},[e._v(e._s(t.grade.title))])})],2)]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"titleDropdown"}},[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.title,expression:"addTitleDialogInputs.title"}],attrs:{id:"titleDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"title",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_title")))]),e._v(" "),e._l(e.selectedGradeTitles.titles,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.addNewTitle}},[e._v(e._s(e.$t("text.add_title")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalLoadTemplate"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.load_template")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.load_template_dialog_help")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"templateDropdown"}},[e._v(e._s(e.$t("text.template")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTemplate,expression:"selectedTemplate"}],attrs:{id:"templateDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedTemplate=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_template")))]),e._v(" "),a("option",{attrs:{value:"Pashto"}},[e._v("ACR TLMs Pashto")]),e._v(" "),a("option",{attrs:{value:"Dari"}},[e._v("ACR TLMs Dari")])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.loadTemplate}},[e._v(e._s(e.$t("text.load_template")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalConfirmSend"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.confirm_shipment_details")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.confirm_shipment_details_help")))]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.sendPackageObj.title))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.sendPackageObj.description))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_recipient_level")))]),e._v(" "),a("td",[e._v(e._s(e.beingSentShipmentRecipientLevel))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_recipient_province")))]),e._v(" "),a("td",[e._v(e._s(e.beingSentShipmentRecipientProvince))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_recipient_district")))]),e._v(" "),a("td",[e._v(e._s(e.beingSentShipmentRecipientDistrict))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_recipient")))]),e._v(" "),a("td",[e._v(e._s(e.beingSentShipmentRecipientNode))])])])]),e._v(" "),a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",[e._l(e.beingSentAddedGrades,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(t.title))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.grand_total")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.beingSentGrandTotal))])])],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.postPackage}},[e._v(e._s(e.$t("text.send_package")))]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small"},[e._v(e._s(e.$t("text.cancel")))])])])])},staticRenderFns:[]};var b=a("VU/8")(m,f,!1,function(e){a("1Yfx")},"data-v-3ffdfc7e",null).exports,S={name:"Login",updated:function(){document.querySelector(".select-dropdown").style.color="#fff"},mounted:function(){this.$forceUpdate(),this.retrieveLoginCredentials(),this.login.remember&&this.login.email.length>1&&this.login.password.length>1&&this.loginNow()},computed:{},data:function(){return{login:{email:"",password:"",remember:!0}}},methods:{changeLocale:function(e){localStorage.locale=this.$i18n.locale,this.setLocale()},setLocale:function(){var e=document.querySelector("body");"en"==this.$i18n.locale?(e.classList.remove("rtl"),document.querySelector("html").dir="ltr"):(e.classList.add("rtl"),document.querySelector("html").dir="rtl",document.querySelector("body").style.fontFamily="Tahoma")},retrieveLoginCredentials:function(){localStorage.email&&(this.login.email=localStorage.email),localStorage.password&&(this.login.password=localStorage.password),localStorage.remember&&(this.login.remember=localStorage.remember)},persistLoginCredentials:function(){this.login.remember&&(localStorage.email=this.login.email,localStorage.password=this.login.password,localStorage.remember=this.login.remember)},loginNow:function(e){e&&e.preventDefault(),console.log(this.login);var t=this;this.$http.post("/login",{email:this.login.email.trim(),password:this.login.password}).then(function(e){t.$store.commit("setUser",e.data.user),t.setHeaderToken(),t.persistLoginCredentials(),t.$router.push("/home")}).catch(function(e){console.log(e),console.log(e.response),alert(this.$t("text.wrong_credentials"))})},setHeaderToken:function(){this.$store.getters.userObj&&(console.log("api token: "+this.$store.getters.userObj.api_token),console.log(this.$http.defaults),this.$http.defaults.params={api_token:this.$store.getters.userObj.api_token})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loginPage login-background valign-wrapper"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 14 offset-14"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-action blue-grey darken-3 white-text"},[a("h4",[e._v(e._s(e.$t("text.otims_title")))]),e._v(" "),a("p",{staticStyle:{color:"#e2e2e2"}},[e._v(e._s(e.$t("text.enter_credentials")))])]),e._v(" "),a("div",{staticClass:"card-content"},[a("form",{attrs:{id:"loginForm",name:"loginForm"},on:{submit:e.loginNow}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"username"}},[e._v(e._s(e.$t("text.email")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"validate",attrs:{type:"email",id:"username",placeholder:e.$t("text.email"),required:"","aria-required":"true"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"password"}},[e._v(e._s(e.$t("text.password")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"validate",attrs:{type:"password",id:"password",placeholder:e.$t("text.password"),required:"","aria-required":"true"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-field",attrs:{id:"langSection"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.$i18n,"locale",t.target.multiple?a:a[0])},function(t){return e.changeLocale(!0)}]}},[a("option",{attrs:{value:"en"}},[e._v("English")]),e._v(" "),a("option",{attrs:{value:"ps"}},[e._v("پښتو")]),e._v(" "),a("option",{attrs:{value:"da"}},[e._v("دری")])])]),e._v(" "),a("div",{staticClass:"form-field"},[a("div",{staticClass:"switch"},[a("label",[e._v("\n                  "+e._s(e.$t("text.remember_me"))+"\n                  "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.remember,expression:"login.remember"}],attrs:{type:"checkbox",id:"remember"},domProps:{checked:Array.isArray(e.login.remember)?e._i(e.login.remember,null)>-1:e.login.remember},on:{change:function(t){var a=e.login.remember,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&e.$set(e.login,"remember",a.concat([null])):n>-1&&e.$set(e.login,"remember",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.login,"remember",i)}}}),e._v(" "),a("span",{staticClass:"lever"})])])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field center-align"},[a("button",{staticClass:"btn-large light-blue darken-4 waves-effect",attrs:{form:"loginForm",type:"submit"}},[e._v(e._s(e.$t("text.login")))])])]),e._v(" "),a("br")])])])])])},staticRenderFns:[]};var y=a("VU/8")(S,A,!1,function(e){a("FYT+")},"data-v-4cf0bd75",null).exports,k={name:"ReceivePackage",mounted:function(){var e=document.querySelector(".collapsible.expandable");M.Collapsible.init(e,{accordion:!1});this.$store.getters.receivingPackageObj||this.getReceivedPackages()},beforeDestroy:function(){this.$store.commit("setReceivingPackage",null),console.log("ReceivingPackage set to null in state store.")},created:function(){if(this.getGrades(),this.$store.getters.thirdLanguagesObj?this.thirdLanguages=this.$store.getters.thirdLanguagesObj:this.getThirdLanguages(),this.$store.getters.receivingPackageObj){var e=this.$store.getters.receivingPackageObj;this.recvdSelectedPackage=e}else console.log("Select a package to receive.")},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},data:function(){return{errorMessages:[],localReceivingPackageSet:!1,receivedPackages:{},recvdSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}},sentLang:{},generalInfo:{lang:{},lang_dmg:{},receiveDate:"",received_grades:{0:null,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1}},allGrades:[],thirdLanguages:[],selectedGradeTitles:[],addedGrades:[],addedTitles:[],addTitleDialogInputs:{grade:"",title:""}}},components:{DatePicker:VuePersianDatetimePicker},watch:{"addTitleDialogInputs.grade":function(e,t){this.loadGradeTitles(e)},addedTitles:function(e){this.updateAddedGrades()},"recvdSelectedPackage.package":function(){this.isObjectEmpty(this.recvdSelectedPackage.package)?this.localReceivingPackageSet=!1:this.localReceivingPackageSet=!0,console.log(this.localReceivingPackageSet)}},computed:{storeReceivingPackageSet:function(){return!!this.$store.getters.receivingPackageObj}},methods:{getThirdLanguages:function(){var e=this;this.$http.get("/meta/languages/third",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.thirdLanguages=t.data}).catch(function(e){console.log(e)})},loadSentQuantities:function(){var e=this.sentLang;for(var t in this.generalInfo.lang)this.$set(this.generalInfo.lang,t,0);for(var t in this.generalInfo.lang_dmg)this.$set(this.generalInfo.lang_dmg,t,0);for(var t in e)this.$set(this.generalInfo.lang,t,e[t])},loadPackageDetails:function(e){this.recvdSelectedPackage.package=e,this.getRecvdPackageAllDetails(e.recieved_id)},getRecvdPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/received/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.recvdSelectedPackage.allDetails=e.data,console.log(t.recvdSelectedPackage),t.generateReceivingForm()}).catch(function(e){console.log(e)})},getReceivedPackages:function(){var e=this;this.$http.get("/shipments/received/pending",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.receivedPackages=t.data}).catch(function(e){console.log(e)})},receivePackage:function(e){e.preventDefault(),this.errorMessages=[];var t=this,a={};a.recieve_date=this.generalInfo.receiveDate,a.recieve_id=this.recvdSelectedPackage.allDetails.sent_shipment.id,a.received_grades=this.generalInfo.received_grades;var s=this.generalInfo.lang;h()(s).forEach(function(e){""!=s[e]&&null!=s[e]&&void 0!=s[e]&&0!=s[e]||(console.log(e),delete s[e])});var i=this.generalInfo.lang_dmg;h()(i).forEach(function(e){""!=i[e]&&null!=i[e]&&void 0!=i[e]&&0!=i[e]||(console.log(e),delete i[e])}),a.lang=s,a.lang_dmg=i,this.addedGrades.forEach(function(e){a.received_grades[e.id]=!0}),console.log(a),this.$http.post("/shipments/receive",g()({},a),{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message),t.$router.push("/")}).catch(function(e){console.log(e.response),e.response.data.messages?t.errorMessages=e.response.data.messages:t.errorMessages=[this.$t("text.receive_error")],alert(this.$t("text.receive_error")),t.scrollToTop()})},generateReceivingForm:function(){console.log("Generating receiving form");var e=this.recvdSelectedPackage.allDetails.sent_detail,t=this;h()(e).forEach(function(a){var s=a,i=e[a];t.allGrades.find(function(e){e.grade.title===s&&(t.addedGrades.push(e.grade),e.titles.find(function(e){i.forEach(function(a){if(a.title===e.title){var s=e;if(t.addedTitles.find(function(e){return e.id===s.id})||t.addedTitles.push(s),"Dari"===a.language)t.sentLang[s.id+"_1_"+s.grade_id]=a.total.toString();else if("Pashto"===a.language)t.sentLang[s.id+"_2_"+s.grade_id]=a.total.toString();else{var i=void 0;t.thirdLanguages.find(function(e){e.title==a.language&&(i=e)}),t.sentLang[s.id+"_"+i.id+"_"+s.grade_id]=a.total.toString()}}})}))})})},getTitleTotal:function(e){var t=parseInt(this.generalInfo.lang[e]),a=parseInt(this.generalInfo.lang_dmg[e]);return isNaN(t)&&(t=0),isNaN(a)&&(a=0),t+a},updateAddedGrades:function(){var e=this,t=this;this.addedGrades=[],this.addedTitles.length>0&&(this.addedTitles.find(function(a){var s=a.grade_id,i=e.allGrades.filter(function(e){if(e.grade.id===s)return e.grade});i=i[0].grade,-1===t.addedGrades.indexOf(i)&&t.addedGrades.push(i)}),this.addedGrades.sort(function(e,t){return e.id-t.id}))},scrollToTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},isObjectEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},loadGradeTitles:function(e){var t=this.allGrades.filter(function(t){if(t.grade.id===e)return!0});this.selectedGradeTitles=t[0]},getGrades:function(){var e=this;this.$http.get("/meta/grades",{params:this.$http.defaults.params}).then(function(t){e.allGrades=t.data,(e.storeReceivingPackageSet||e.localReceivingPackageSet)&&e.generateReceivingForm()}).catch(function(e){console.log(e)})},removeTitle:function(e,t){if(confirm(this.$t("text.confirm_remove_title"))){var a=this.addedTitles.indexOf(e);console.log(a),this.addedTitles.splice(a,1),delete this.generalInfo.lang[e.id+"_1_"+t],delete this.generalInfo.lang_dmg[e.id+"_1_"+t],delete this.generalInfo.lang[e.id+"_2_"+t],delete this.generalInfo.lang_dmg[e.id+"_2_"+t];var s=this;this.thirdLanguages.forEach(function(a){delete s.generalInfo.lang[e.id+"_"+a.id+"_"+t],delete s.generalInfo.lang_dmg[e.id+"_"+a.id+"_"+t]})}},addNewTitle:function(){var e=this.addTitleDialogInputs.grade,t=this.addTitleDialogInputs.title,a=void 0,s=void 0;(this.allGrades.find(function(i){i.grade.id===e&&(s=i.grade,i.titles.find(function(e){e.id===t&&(a=e)}))}),void 0!=a)?this.addedTitles.find(function(e){return e.id===a.id})?alert(this.$t("text.title_already_added",[a.title,s.title])):this.addedTitles.push(a):alert(this.$t("text.select_specific_grade_title"))},filterTitlesByGrade:function(e){return this.addedTitles.filter(function(t){if(t.grade_id==e)return!0})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"receivePackagePage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[e.storeReceivingPackageSet||e.localReceivingPackageSet?e._e():a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.pending_packages")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.receivedPackages.data,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.loadPackageDetails(t)}}},[e._v(e._s(e.$t("text.receive")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.receivedPackages.data||!e.receivedPackages.data.length>0,expression:"!receivedPackages.data || !receivedPackages.data.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_pending_packages")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)])])]),e._v(" "),e.storeReceivingPackageSet||e.localReceivingPackageSet?a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.receive_package")))]),e._v(" "),e.errorMessages&&e.errorMessages.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card-panel orange"},[a("div",{staticClass:"white-text"},[a("ul",e._l(e.errorMessages,function(t,s){return a("li",{key:s},[e._v(e._s(t))])}),0)])])])]):e._e()])]):e._e(),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.storeReceivingPackageSet||e.localReceivingPackageSet,expression:"storeReceivingPackageSet || localReceivingPackageSet"}],staticClass:"collapsible expandable"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("info")]),e._v("\n              "+e._s(e.$t("text.package_information"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.title))]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.From_title))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.description))]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.To_title))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("td",[e._v("\n                      "+e._s(null==e.recvdSelectedPackage.package.send_date?"":e.moment(e.recvdSelectedPackage.package.send_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.recvdSelectedPackage.package.send_date)+")\n                    ")]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.current_status")))]),e._v(" "),1==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e()])])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col s12"},[a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("format_list_numbered")]),e._v("\n              "+e._s(e.$t("text.titles_and_quantities"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalAddTitle2"}},[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("button",{staticClass:"waves-effect btn-small",on:{click:e.loadSentQuantities}},[e._v(e._s(e.$t("text.fill_with_sent_quantities")))]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v(e._s(e.$t("text.add_title_help")))]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},e._l(e.addedGrades,function(t,s){return a("div",{key:s},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.title))]),e._v(" "),a("hr",{staticStyle:{border:"2px solid #F8F8F8"}}),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.dari")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.pashto")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.other_languages")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",e._l(e.filterTitlesByGrade(t.id),function(s,i){return a("tr",{key:i},[a("td",[e._v(e._s(s.title))]),e._v(" "),a("td",[a("tr",[a("td",[a("label",[e._v(e._s(e.$t("text.fine")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_1_"+t.id],expression:"generalInfo.lang[title.id+'_1_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.fine")},domProps:{value:e.generalInfo.lang[s.id+"_1_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_1_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.damaged")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang_dmg[s.id+"_1_"+t.id],expression:"generalInfo.lang_dmg[title.id+'_1_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.damaged")},domProps:{value:e.generalInfo.lang_dmg[s.id+"_1_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang_dmg,s.id+"_1_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.total")))]),e._v(" "),a("span",[e._v(e._s(e.getTitleTotal(s.id+"_1_"+t.id)))])])])]),e._v(" "),a("td",[a("tr",[a("td",[a("label",[e._v(e._s(e.$t("text.fine")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_2_"+t.id],expression:"generalInfo.lang[title.id+'_2_'+grade.id]"}],attrs:{type:"number",placeholder:"Fine"},domProps:{value:e.generalInfo.lang[s.id+"_2_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_2_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.damaged")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang_dmg[s.id+"_2_"+t.id],expression:"generalInfo.lang_dmg[title.id+'_2_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.damaged")},domProps:{value:e.generalInfo.lang_dmg[s.id+"_2_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang_dmg,s.id+"_2_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.total")))]),e._v(" "),a("span",[e._v(e._s(e.getTitleTotal(s.id+"_2_"+t.id)))])])])]),e._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:s.thirdLang,expression:"title.thirdLang"}],attrs:{id:"languageDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(s,"thirdLang",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_language")))]),e._v(" "),e._l(e.thirdLanguages,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("tr",[a("td",[a("label",[e._v(e._s(e.$t("text.fine")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id],expression:"generalInfo.lang[title.id+ '_' + title.thirdLang + '_' +grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.fine")},domProps:{value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_"+s.thirdLang+"_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.damaged")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang_dmg[s.id+"_"+s.thirdLang+"_"+t.id],expression:"generalInfo.lang_dmg[title.id + '_' + title.thirdLang + '_' + grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.damaged")},domProps:{value:e.generalInfo.lang_dmg[s.id+"_"+s.thirdLang+"_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang_dmg,s.id+"_"+s.thirdLang+"_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("label",[e._v(e._s(e.$t("text.total")))]),e._v(" "),a("span",[e._v(e._s(e.getTitleTotal(s.id+"_"+s.thirdLang+"_"+t.id)))])])])]),e._v(" "),a("td",[a("i",{staticClass:"material-icons",staticStyle:{color:"red","font-size":"40px"},on:{click:function(a){return e.removeTitle(s,t.id)}}},[e._v("close")])])])}),0)]),e._v(" "),a("br")])}),0)])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("store")]),e._v("\n              "+e._s(e.$t("text.receive_package"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("form",{attrs:{id:"receiveForm",name:"receiveForm"},on:{submit:e.receivePackage}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"receiveDate"}},[e._v(e._s(e.$t("text.receiving_date")))]),e._v(" "),a("date-picker",{staticClass:"validate",attrs:{id:"receiveDate",name:"receiveDate",required:"","aria-required":"true",placeholder:e.$t("text.select_date"),format:"YYYY/M/D",displayFormat:"jYYYY/jM/jD",locale:"fa,en","locale-config":{fa:{lang:{label:"لمريز / شمسی",submit:"ټاکل/تایید",cancel:"بندول/انصراف",now:"اوس/اکنون",nextMonth:"راتلونکې مياشت/ماه بعد",prevMonth:"تېره مياشت/ماه قبل"}},en:{lang:{label:"Gregorian / میلادی"}}}},model:{value:e.generalInfo.receiveDate,callback:function(t){e.$set(e.generalInfo,"receiveDate",t)},expression:"generalInfo.receiveDate"}})],1),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",attrs:{form:"receiveForm",type:"submit"}},[e._v(e._s(e.$t("text.receive_package")))])]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v(e._s(e.$t("text.receive_help")))])])])])])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalAddTitle2"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.add_title_dialog_help")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"gradeDropdown"}},[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.grade,expression:"addTitleDialogInputs.grade"}],attrs:{id:"gradeDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"grade",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_grade")))]),e._v(" "),e._l(e.allGrades,function(t,s){return a("option",{key:s,domProps:{value:t.grade.id}},[e._v(e._s(t.grade.title))])})],2)]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"titleDropdown"}},[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.title,expression:"addTitleDialogInputs.title"}],attrs:{id:"titleDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"title",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_title")))]),e._v(" "),e._l(e.selectedGradeTitles.titles,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.addNewTitle}},[e._v(e._s(e.$t("text.add_title")))])])])])},staticRenderFns:[]};var C=a("VU/8")(k,x,!1,function(e){a("m1dB")},"data-v-4f44da58",null).exports,w={name:"CurrentBalance",mounted:function(){this.getCurrentBalance()},data:function(){return{currBalance:[]}},methods:{getCurrentBalance:function(){var e=this;this.$http.get("/balance/list",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.currBalance=t.data}).catch(function(e){console.log(e)})}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"balancePage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.current_inventory_title")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",[e._l(e.currBalance,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.grade))]),e._v(" "),a("td",[e._v(e._s(t.lang))]),e._v(" "),a("td",[e._v(e._s(t.total))])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.currBalance.length<1,expression:"currBalance.length < 1"}]},[a("td",[e._v(e._s(e.$t("text.no_inventory_data")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)])])])])])])])},staticRenderFns:[]},D=a("VU/8")(w,P,!1,null,null,null).exports,$={name:"StudentDist",mounted:function(){var e=this.$store.getters.userNodeObj;15==e.level_id&&(this.schoolNodes.push(e),console.log(this.schoolNodes)),this.getGroupNodes()},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},watch:{selectedNodeId:function(){console.log(this.selectedNodeId),this.getReceivedPackages(),this.getToBeneficiaryPackages(),this.getFromBeneficiaryPackages()}},data:function(){return{uploadDoc:{type:"",title:"",file:""},showUploadProgress:!1,selectedPackageDocs:{sent_docs:[],reciept_docs:[]},schoolNodes:[],selectedNodeId:0,sentPackages:{},receivedPackages:{},toBeneficiaryPackages:[],fromBeneficiaryPackages:[],recvdSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}}}},methods:{handleFileUpload:function(){this.uploadDoc.file=this.$refs.file.files[0]},uploadShipmentDocument:function(){""!=this.uploadDoc.title&&("sent"==this.uploadDoc.type?this.uploadShipmentSentDocument():"received"==this.uploadDoc.type&&this.uploadShipmentReceivedDocument())},uploadShipmentSentDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("sent_doc[file][0]",this.uploadDoc.file),t.append("sent_doc[shipment_id]",this.sentSelectedPackage.package.id),t.append("sent_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/sent/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert(this.$t("text.upload_document_error"))})},uploadShipmentReceivedDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("recieve_doc[file][0]",this.uploadDoc.file),t.append("recieve_doc[shipment_id]",this.recvdSelectedPackage.allDetails.sent_shipment.id),t.append("recieve_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/receive/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert(this.$t("text.upload_document_error"))})},downloadShipmentDocument:function(e){var t=this;this.$http.get("/shipments/documents/"+e,{responseType:"blob",params:this.$http.defaults.params}).then(function(a){t.forceFileDownload(a,e)}).catch(function(e){console.log(e)})},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(e.data),s=document.createElement("a");s.href=a,s.setAttribute("download","document_"+t),s.click()},getShipmentDocuments:function(e){var t=this;this.$http.get("/shipments/"+e+"/documents",{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.selectedPackageDocs=e.data}).catch(function(e){console.log(e)})},showUploadDialog:function(){this.uploadDoc.title="",this.uploadDoc.file="",this.showUploadProgress=!1;var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).open()},hideUploadDialog:function(){var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).close()},loadSRBeneficiary:function(e){var t={type:e,nodeId:this.selectedNodeId};this.$store.commit("setSRBeneficiaryObj",t),this.$router.push("/sr-beneficiary")},getToBeneficiaryPackages:function(){var e=this;this.$http.get("/node/"+this.selectedNodeId+"/beneficiary/sent",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.toBeneficiaryPackages=t.data}).catch(function(e){console.log(e)})},getFromBeneficiaryPackages:function(){var e=this;this.$http.get("/node/"+this.selectedNodeId+"/beneficiary/received",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.fromBeneficiaryPackages=t.data}).catch(function(e){console.log(e)})},loadReceivePackagePage:function(){this.$store.commit("setReceivingPackage",this.recvdSelectedPackage),this.$router.push("/receive-package")},viewRecvdPackageDetails:function(e){this.recvdSelectedPackage.package=e,this.uploadDoc.type="received",this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getRecvdPackageAllDetails(e.recieved_id)},getRecvdPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/received/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.recvdSelectedPackage.allDetails=e.data,console.log(t.recvdSelectedPackage),t.getShipmentDocuments(t.recvdSelectedPackage.allDetails.sent_shipment.id)}).catch(function(e){console.log(e)})},getReceivedPackages:function(){var e=this;this.$http.get("/shipments/"+this.selectedNodeId+"/received/all",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.receivedPackages=t.data}).catch(function(e){console.log(e)})},getGroupNodes:function(){var e=this;this.$http.get("/user/group/nodes",{params:this.$http.defaults.params}).then(function(t){t.data.length>0&&(e.schoolNodes=t.data)}).catch(function(e){console.log(e)})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"studentDistPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.student_level_distribution_title")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"schoolDDL"}},[e._v(e._s(e.$t("text.school")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedNodeId,expression:"selectedNodeId"}],attrs:{id:"schoolDDL",name:"schoolDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedNodeId=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_school")))]),e._v(" "),e._l(e.schoolNodes,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])])])])]),e._v(" "),e.selectedNodeId>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.received_packages")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.receivedPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v(e._s(e.$t("text.view_details")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.receivedPackages||!e.receivedPackages.length>0,expression:"!receivedPackages || !receivedPackages.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_received_package")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br")])])])]):e._e(),e._v(" "),e.selectedNodeId>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s11 offset-s1"},[a("div",{staticClass:"card hoverable",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.delivered_to_students")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.toBeneficiaryPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.beneficiaries")))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v(e._s(e.$t("text.view_details")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.toBeneficiaryPackages||!e.toBeneficiaryPackages.length>0,expression:"!toBeneficiaryPackages || !toBeneficiaryPackages.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_package_delivered")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:function(t){return e.loadSRBeneficiary("send")}}},[e._v(e._s(e.$t("text.deliver_to_students")))])])])])]):e._e(),e._v(" "),e.selectedNodeId>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s11 offset-s1"},[a("div",{staticClass:"card hoverable",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("text.received_from_students")))]),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.package_id")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.status")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",[e._l(e.fromBeneficiaryPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.send_date,"YYYY-M-D").format("jYYYY-jM-jD")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.beneficiaries")))]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v(e._s(e.$t("text.view_details")))])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.fromBeneficiaryPackages||!e.fromBeneficiaryPackages.length>0,expression:"!fromBeneficiaryPackages || !fromBeneficiaryPackages.length > 0"}]},[a("td",[e._v(e._s(e.$t("text.no_received_package")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:function(t){return e.loadSRBeneficiary("receive")}}},[e._v(e._s(e.$t("text.receive_from_students")))])])])])]):e._e()]),e._v(" "),a("div",{staticClass:"modal modal-fixed-footer",attrs:{id:"modalRecvdShipmentDetails"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.shipment_details")))]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.title))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_received")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_general))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.description))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_safe")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_safe))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sent_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.recvdSelectedPackage.package.send_date?"":e.moment(e.recvdSelectedPackage.package.send_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.recvdSelectedPackage.package.send_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_damaged")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.damaged))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.received_date")))]),e._v(" "),a("td",[e._v("\n              "+e._s(null==e.recvdSelectedPackage.allDetails.sent_shipment.receive_date?"":e.moment(e.recvdSelectedPackage.allDetails.sent_shipment.receive_date,"YYYY-M-D").format("jYYYY-jM-jD"))+" ("+e._s(e.recvdSelectedPackage.allDetails.sent_shipment.receive_date)+")\n            ")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.total_lost")))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.lost))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.from")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.From_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.to")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.To_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.sender_name")))]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.sender_name))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.current_status")))]),e._v(" "),1==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v(e._s(e.$t("text.received")))])]):e._e(),e._v(" "),0==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v(e._s(e.$t("text.pending")))]),e._v(" "),a("a",{staticClass:"waves-effect modal-close light-blue darken-4 btn-small",staticStyle:{"margin-top":"5px","text-transform":"none"},on:{click:e.loadReceivePackagePage}},[a("i",{staticClass:"material-icons left"},[e._v("list")]),e._v("\n                "+e._s(e.$t("text.receive"))+"\n              ")])]):e._e(),e._v(" "),a("td"),e._v(" "),a("td")])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("table",{staticClass:"striped"},[a("thead",[a("tr",{staticStyle:{color:"#ee6e73","font-size":"14px !important","text-transform":"uppercase","font-weight":"normal !important"}},[a("td",[e._v(e._s(e.$t("text.document_title")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.type")))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.download")))])])]),e._v(" "),a("tbody",[e._l(e.selectedPackageDocs.sent_docs,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.sent")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e._l(e.selectedPackageDocs.reciept_docs,function(t,s){return a("tr",{key:s+4520},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(e.$t("text.received")))]),e._v(" "),a("td",[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v(e._s(e.$t("text.download")))])])])}),e._v(" "),e.selectedPackageDocs.reciept_docs.length<1&&e.selectedPackageDocs.sent_docs.length<1?a("tr",[a("td",[e._v(e._s(e.$t("text.no_uploaded_documents")))]),e._v(" "),a("td"),e._v(" "),a("td")]):e._e()],2)]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small light-blue darken-4",on:{click:e.showUploadDialog}},[e._v(e._s(e.$t("text.upload_new")))])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"col s12"},[a("ul",{staticClass:"tabs"},[a("li",{staticClass:"tab col s3"},[a("a",{staticClass:"active",attrs:{href:"#r_sent"}},[e._v(e._s(e.$t("text.sent")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_received"}},[e._v(e._s(e.$t("text.received")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_damaged"}},[e._v(e._s(e.$t("text.damaged")))])]),e._v(" "),a("li",{staticClass:"tab col s3"},[a("a",{attrs:{href:"#r_lost"}},[e._v(e._s(e.$t("text.lost")))])])])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_sent"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_received"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_received_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_damaged"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_dmg_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_lost"}},[a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_lost_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v(e._s(e.$t("text.close")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalUploadDocument"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.upload_document")))]),e._v(" "),e.showUploadProgress?e._e():a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"documentTitle"}},[e._v(e._s(e.$t("text.document_title")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.uploadDoc.title,expression:"uploadDoc.title"}],staticClass:"validate",attrs:{type:"text",id:"documentTitle",name:"documentTitle",placeholder:e.$t("text.document_title"),required:"","aria-required":"true"},domProps:{value:e.uploadDoc.title},on:{input:function(t){t.target.composing||e.$set(e.uploadDoc,"title",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"file-field input-field"},[a("div",{staticClass:"btn-small"},[a("span",[e._v(e._s(e.$t("text.select_file")))]),e._v(" "),a("input",{ref:"file",attrs:{type:"file",id:"file",required:""},on:{change:function(t){return e.handleFileUpload()}}})]),e._v(" "),e._m(0)])])]),e._v(" "),e.showUploadProgress?a("div",{staticStyle:{"margin-top":"20px"}},[a("p",[e._v(e._s(e.$t("text.uploading_document_wait")))]),e._v(" "),e._m(1)]):e._e()]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:e.uploadShipmentDocument}},[e._v(e._s(e.$t("text.upload_document")))]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small"},[e._v(e._s(e.$t("text.close")))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-path-wrapper"},[t("input",{staticClass:"file-path validate",attrs:{type:"text"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"indeterminate"})])}]};var N=a("VU/8")($,T,!1,function(e){a("8McR")},"data-v-00b72d2a",null).exports,I={name:"SendReceiveBeneficiary",mounted:function(){var e=document.querySelector(".collapsible.expandable");M.Collapsible.init(e,{accordion:!1})},created:function(){if(this.$store.getters.srBeneficiaryObj){var e=this.$store.getters.srBeneficiaryObj;this.transactionType=e.type,this.generalInfo.node=e.nodeId}else this.$router.push("/student-dist");this.getGrades(),this.getProjects(),this.$store.getters.thirdLanguagesObj?this.thirdLanguages=this.$store.getters.thirdLanguagesObj:this.getThirdLanguages()},beforeDestroy:function(){this.$store.commit("setSRBeneficiaryObj",null),console.log("srBeneficiaryObj set to null in state store.")},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},data:function(){return{packageObj:{lang:{}},beingSentAddedGrades:[],beingSentAddedTitles:[],selectedTemplate:"",errorMessages:[],allGrades:[],allProjects:[],thirdLanguages:[],transactionType:"",generalInfo:{title:"",description:"",node:0,project:0,date:"",lang:{},sent_grades:{0:null,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1}},selectedGradeTitles:[],addedGrades:[],addedTitles:[],addTitleDialogInputs:{grade:"",title:""}}},components:{DatePicker:VuePersianDatetimePicker},computed:{beingSentGrandTotal:function(){var e=0;for(var t in this.packageObj.lang)e+=parseInt(this.packageObj.lang[t]);return e},beingSentShipmentRecipientNode:function(){var e="";return"receive"==this.transactionType?e=this.$t("text.self_selected_school"):"send"==this.transactionType&&(e=this.$t("text.beneficiaries")),e}},watch:{"addTitleDialogInputs.grade":function(e,t){this.loadGradeTitles(e)},addedTitles:function(e){this.updateAddedGrades()}},methods:{loadTemplate:function(){var e=this.selectedTemplate;"Pashto"==e?this.loadPashtoTemplate():"Dari"==e&&this.loadDariTemplate()},loadPashtoTemplate:function(){this.addedTitles=[],this.generalInfo.lang={};var e=this,t=[3,211,212,213,17,217,218,219,31,223,224,225];this.allGrades.forEach(function(a){1!=a.grade.id&&2!=a.grade.id&&3!=a.grade.id||t.forEach(function(t){a.titles.find(function(a){a.id===t&&e.addedTitles.push(a)})})}),this.updateAddedGrades()},loadDariTemplate:function(){this.addedTitles=[],this.generalInfo.lang={};var e=this,t=[10,210,214,215,24,216,220,221,38,222,226,227];this.allGrades.forEach(function(a){1!=a.grade.id&&2!=a.grade.id&&3!=a.grade.id||t.forEach(function(t){a.titles.find(function(a){a.id===t&&e.addedTitles.push(a)})})}),this.updateAddedGrades()},getThirdLanguages:function(){var e=this;this.$http.get("/meta/languages/third",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.thirdLanguages=t.data}).catch(function(e){console.log(e)})},updateAddedGrades:function(){var e=this,t=this;this.addedGrades=[],this.addedTitles.length>0&&(this.addedTitles.find(function(a){var s=a.grade_id,i=e.allGrades.filter(function(e){if(e.grade.id===s)return e.grade});i=i[0].grade,-1===t.addedGrades.indexOf(i)&&t.addedGrades.push(i)}),this.addedGrades.sort(function(e,t){return e.id-t.id}))},sendPackage:function(e){e.preventDefault(),this.errorMessages=[];var t=this;if(0!=this.generalInfo.node&&h()(this.generalInfo.lang).length>0){var a={};a.title=this.generalInfo.title,a.description=this.generalInfo.description,a.node_id=this.generalInfo.node.toString(),a.project_id=this.generalInfo.project.toString(),a.send_date=this.generalInfo.date;var s=this.generalInfo.lang;h()(s).forEach(function(e){""!=s[e]&&null!=s[e]&&void 0!=s[e]&&0!=s[e]||delete s[e]}),a.lang=s,"send"==this.transactionType?(a.sent_grades=this.generalInfo.sent_grades,this.addedGrades.forEach(function(e){a.sent_grades[e.id]=!0})):"receive"==this.transactionType&&(a.receive_grades=this.generalInfo.sent_grades,this.addedGrades.forEach(function(e){a.receive_grades[e.id]=!0})),console.log(a);var i=document.querySelector("#modalConfirmSend");(t=M.Modal.getInstance(i)).open(),this.packageObj=a,this.confirmSendPackage(a.lang)}else this.scrollToTop(),0==this.generalInfo.node&&this.errorMessages.push(t.$t("text.select_sr_node")),h()(this.generalInfo.lang).length<1&&this.errorMessages.push(t.$t("text.add_some_titles"))},postPackage:function(){"send"==this.transactionType?this.postSendPackage():"receive"==this.transactionType&&this.postReceivePackage()},postSendPackage:function(){var e=this,t=this.packageObj;this.$http.post("/beneficiary/send",g()({},t),{params:this.$http.defaults.params}).then(function(t){console.log(t.data),alert(t.data.message),e.$router.push("/student-dist")}).catch(function(t){console.log(t.response),t.response.data.messages?e.errorMessages=t.response.data.messages:e.errorMessages=[e.$t("text.correct_form_error")],alert(e.$t("text.correct_form_error")),e.scrollToTop()})},postReceivePackage:function(){var e=this,t=this.packageObj;this.$http.post("/beneficiary/receive",g()({},t),{params:this.$http.defaults.params}).then(function(t){console.log(t.data),alert(t.data.message),e.$router.push("/student-dist")}).catch(function(t){console.log(t.response),t.response.data.messages?e.errorMessages=t.response.data.messages:e.errorMessages=[this.$t("text.correct_form_error")],alert(this.$t("text.correct_form_error")),e.scrollToTop()})},confirmSendPackage:function(e){this.beingSentAddedGrades=[],this.beingSentAddedTitles=[];var t=this,a=[];for(var s in e){var i=s.split("_");a.includes(i[2])||(a.push(i[2]),this.addedGrades.find(function(e){e.id==i[2]&&t.beingSentAddedGrades.push(e)})),this.addedTitles.find(function(a){if(a.id==i[0]){var n=g()({},a);1==i[1]?(n.language="Dari",n.total=e[s]):2==i[1]?(n.language="Pashto",n.total=e[s]):t.thirdLanguages.find(function(t){t.id==i[1]&&(n.language=t.title,n.total=e[s])}),t.beingSentAddedTitles.push(n)}})}this.beingSentAddedGrades.sort(function(e,t){return e.id-t.id}),console.log(this.beingSentAddedGrades),console.log(this.beingSentAddedTitles)},scrollToTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},loadGradeTitles:function(e){var t=this.allGrades.filter(function(t){if(t.grade.id===e)return!0});this.selectedGradeTitles=t[0]},getGrades:function(){var e=this;this.$http.get("/meta/grades",{params:this.$http.defaults.params}).then(function(t){e.allGrades=t.data}).catch(function(e){console.log(e)})},getProjects:function(){var e=this;this.$http.get("/meta/projects",{params:this.$http.defaults.params}).then(function(t){e.allProjects=t.data}).catch(function(e){console.log(e)})},removeTitle:function(e,t){if(confirm(this.$t("text.confirm_remove_title"))){var a=this.addedTitles.indexOf(e);console.log(a),this.addedTitles.splice(a,1),delete this.generalInfo.lang[e.id+"_1_"+t],delete this.generalInfo.lang[e.id+"_2_"+t];var s=this;this.thirdLanguages.forEach(function(a){delete s.generalInfo.lang[e.id+"_"+a.id+"_"+t]}),console.log(this.generalInfo.lang)}},addNewTitle:function(){var e=this.addTitleDialogInputs.grade,t=this.addTitleDialogInputs.title,a=void 0,s=void 0;(this.allGrades.find(function(i){i.grade.id===e&&(s=i.grade,i.titles.find(function(e){e.id===t&&(a=e)}))}),void 0!=a)?this.addedTitles.find(function(e){return e.id===a.id})?alert(this.$t("text.title_already_added",[a.title,s.title])):this.addedTitles.push(a):alert(this.$t("text.select_specific_grade_title"))},filterTitlesByGrade:function(e){return this.addedTitles.filter(function(t){if(t.grade_id==e)return!0})},filterBeingSentTitlesByGrade:function(e){return this.beingSentAddedTitles.filter(function(t){if(t.grade_id==e)return!0})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"srBenenficiaryPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v(e._s("send"==e.transactionType?e.$t("text.deliver_to_students"):e.$t("text.receive_from_students")))]),e._v(" "),e.errorMessages&&e.errorMessages.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card-panel orange"},[a("div",{staticClass:"white-text"},[a("ul",e._l(e.errorMessages,function(t,s){return a("li",{key:s},[e._v(e._s(t))])}),0)])])])]):e._e()])]),e._v(" "),a("ul",{staticClass:"collapsible expandable"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("info")]),e._v("\n              "+e._s(e.$t("text.package_information"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("form",{attrs:{id:"generalForm"},on:{submit:e.sendPackage}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentTitle"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.title,expression:"generalInfo.title"}],staticClass:"validate",attrs:{type:"text",id:"ShipmentTitle",name:"ShipmentTitle",placeholder:e.$t("text.shipment_title"),required:"","aria-required":"true"},domProps:{value:e.generalInfo.title},on:{input:function(t){t.target.composing||e.$set(e.generalInfo,"title",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentDescription"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.description,expression:"generalInfo.description"}],attrs:{type:"text",id:"ShipmentDescription",name:"ShipmentDescription",placeholder:e.$t("text.shipment_description")},domProps:{value:e.generalInfo.description},on:{input:function(t){t.target.composing||e.$set(e.generalInfo,"description",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"projectDDL"}},[e._v(e._s(e.$t("text.textbooks_project")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.project,expression:"generalInfo.project"}],attrs:{id:"projectDDL",name:"projectDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.generalInfo,"project",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_project")))]),e._v(" "),e._l(e.allProjects,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentTime"}},[e._v(e._s(e.$t("text.shipment_date")))]),e._v(" "),a("date-picker",{staticClass:"validate",attrs:{id:"ShipmentTime",name:"ShipmentTime",required:"","aria-required":"true",placeholder:e.$t("text.select_date"),format:"YYYY/M/D",displayFormat:"jYYYY/jM/jD",locale:"fa,en","locale-config":{fa:{lang:{label:"لمريز / شمسی",submit:"ټاکل/تایید",cancel:"بندول/انصراف",now:"اوس/اکنون",nextMonth:"راتلونکې مياشت/ماه بعد",prevMonth:"تېره مياشت/ماه قبل"}},en:{lang:{label:"Gregorian / میلادی"}}}},model:{value:e.generalInfo.date,callback:function(t){e.$set(e.generalInfo,"date",t)},expression:"generalInfo.date"}})],1)])])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("format_list_numbered")]),e._v("\n              "+e._s(e.$t("text.titles_and_quantities"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalAddTitle"}},[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("button",{staticClass:"waves-effect btn btn-small modal-trigger",attrs:{href:"#modalLoadTemplate"}},[e._v(e._s(e.$t("text.load_template")))]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v(e._s(e.$t("text.add_title_help")))]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},e._l(e.addedGrades,function(t,s){return a("div",{key:s},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.title))]),e._v(" "),a("hr",{staticStyle:{border:"2px solid #F8F8F8"}}),e._v(" "),a("table",{staticClass:"striped centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.dari")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.pashto")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.other_languages")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.action")))])])]),e._v(" "),a("tbody",e._l(e.filterTitlesByGrade(t.id),function(s,i){return a("tr",{key:i},[a("td",[e._v(e._s(s.title))]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_1_"+t.id],expression:"generalInfo.lang[title.id+'_1_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_1_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_1_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_2_"+t.id],expression:"generalInfo.lang[title.id+'_2_'+grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_2_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_2_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:s.thirdLang,expression:"title.thirdLang"}],attrs:{id:"languageDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(s,"thirdLang",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_language")))]),e._v(" "),e._l(e.thirdLanguages,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id],expression:"generalInfo.lang[title.id + '_' + title.thirdLang + '_' + grade.id]"}],attrs:{type:"number",placeholder:e.$t("text.quantity")},domProps:{value:e.generalInfo.lang[s.id+"_"+s.thirdLang+"_"+t.id]},on:{input:function(a){a.target.composing||e.$set(e.generalInfo.lang,s.id+"_"+s.thirdLang+"_"+t.id,a.target.value)}}})]),e._v(" "),a("td",[a("i",{staticClass:"material-icons",staticStyle:{color:"red","font-size":"40px"},on:{click:function(a){return e.removeTitle(s,t.id)}}},[e._v("close")])])])}),0)]),e._v(" "),a("br")])}),0)])]),e._v(" "),a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("i",{staticClass:"material-icons",staticStyle:{color:"#01579B"}},[e._v("store")]),e._v("\n              "+e._s("send"==e.transactionType?e.$t("text.send_package"):e.$t("text.receive_package"))+"\n            ")]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",attrs:{form:"generalForm",type:"submit"}},[e._v(e._s("send"==e.transactionType?e.$t("text.send_package"):e.$t("text.receive_package")))]),e._v(" "),a("p",{staticClass:"grey-text lighten-1"},[e._v("\n                "+e._s(e.$t("text.send_receive_help",["send"==e.transactionType?e.$t("text.send_package"):e.$t("text.receive_package")]))+"\n              ")])])])])])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalAddTitle"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.add_title")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.add_title_dialog_help")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"gradeDropdown"}},[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.grade,expression:"addTitleDialogInputs.grade"}],attrs:{id:"gradeDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"grade",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_grade")))]),e._v(" "),e._l(e.allGrades,function(t,s){return a("option",{key:s,domProps:{value:t.grade.id}},[e._v(e._s(t.grade.title))])})],2)]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"titleDropdown"}},[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addTitleDialogInputs.title,expression:"addTitleDialogInputs.title"}],attrs:{id:"titleDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.addTitleDialogInputs,"title",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_title")))]),e._v(" "),e._l(e.selectedGradeTitles.titles,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.addNewTitle}},[e._v(e._s(e.$t("text.add_title")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalLoadTemplate"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.load_template")))]),e._v(" "),a("p",[e._v(e._s(e.$t("text.load_template_dialog_help")))]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"templateDropdown"}},[e._v(e._s(e.$t("text.template")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTemplate,expression:"selectedTemplate"}],attrs:{id:"templateDropdown"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedTemplate=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(e._s(e.$t("text.select_template")))]),e._v(" "),a("option",{attrs:{value:"Pashto"}},[e._v("ACR TLMs Pashto")]),e._v(" "),a("option",{attrs:{value:"Dari"}},[e._v("ACR TLMs Dari")])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.loadTemplate}},[e._v(e._s(e.$t("text.load_template")))])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalConfirmSend"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v(e._s(e.$t("text.confirm_shipment_details")))]),e._v(" "),a("p",[e._v("\n        "+e._s(e.$t("text.confirm_send_receive_help",["send"==e.transactionType?e.$t("text.send_package"):e.$t("text.receive_package")]))+"\n      ")]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_title")))]),e._v(" "),a("td",[e._v(e._s(e.packageObj.title))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_description")))]),e._v(" "),a("td",[e._v(e._s(e.packageObj.description))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.shipment_recipient")))]),e._v(" "),a("td",[e._v(e._s(e.beingSentShipmentRecipientNode))])])])]),e._v(" "),a("table",{staticClass:"centered"},[a("thead",[a("tr",[a("th",[e._v(e._s(e.$t("text.grade")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.subject_title")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.language")))]),e._v(" "),a("th",[e._v(e._s(e.$t("text.quantity")))])])]),e._v(" "),a("tbody",[e._l(e.beingSentAddedGrades,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(t.title))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(e.filterBeingSentTitlesByGrade(t.id),function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("text.grand_total")))]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.beingSentGrandTotal))])])],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.postPackage}},[e._v(e._s("send"==e.transactionType?e.$t("text.send_package"):e.$t("text.receive_package")))]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small"},[e._v(e._s(e.$t("text.cancel")))])])])])},staticRenderFns:[]};var L=a("VU/8")(I,R,!1,function(e){a("In/G")},"data-v-58caafee",null).exports,j={name:"AdminManagePackages",mounted:function(){},created:function(){this.getLevels(),this.getProvinces(),this.getProjects()},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},watch:{"changeRecipient.level":function(){this.changeRecipient.province=0},"changeRecipient.province":function(e,t){this.changeRecipient.district=0,this.getEditDistricts()},"changeRecipient.district":function(e,t){this.changeRecipient.node=0,this.getEditLevelChildNodes()},"recipient.level":function(){this.recipient.province=0},"recipient.province":function(e,t){this.recipient.district=0,this.getDistricts()},"recipient.district":function(e,t){this.recipient.node=0,this.getLevelChildNodes()},"recipient.node":function(){this.exitEditMode(),this.getCurrentBalance(),this.getReceivedPackages(),this.getSentPackages(),this.getToBeneficiaryPackages(),this.getFromBeneficiaryPackages()}},data:function(){return{changeRecipient:{level:0,province:0,district:0,node:0},currBalance:[],balanceRecordObj:{},editMode:!1,recipient:{level:0,province:0,district:0,node:0},allLevels:[],allProvinces:[],allProjects:[],selectedProvinceDistricts:[],selectedLevelChildNodes:[],editSelectedProvinceDistricts:[],editSelectedLevelChildNodes:[],sentPackages:{},receivedPackages:{},toBeneficiaryPackages:[],fromBeneficiaryPackages:[],uploadDoc:{type:"",title:"",file:""},selectedPackageDocs:{sent_docs:[],reciept_docs:[]},showUploadProgress:!1,newGeneralInfo:{title:"",description:"",sendDate:"",receiveDate:"",project:0},editSelectedPackage:{type:"",package:{},allDetails:{sent_shipment:{},receive_record:{}}},adminOutput:"",recvdSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}},sentSelectedPackage:{package:{},allDetails:{sent_shipment:{},receive_record:{}}}}},methods:{updateRecipient:function(){var e=this.changeRecipient;e.id=this.editSelectedPackage.allDetails.sent_shipment.id,this.$http.post("/admin/shipments/recipient/update",e,{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e.response),alert("The recipient could not be changed. Please try again.")})},editGeneralInfo:function(){this.newGeneralInfo.title=this.editSelectedPackage.allDetails.sent_shipment.title,this.newGeneralInfo.description=this.editSelectedPackage.allDetails.sent_shipment.description,this.newGeneralInfo.sendDate=this.editSelectedPackage.allDetails.sent_shipment.send_date,this.newGeneralInfo.receiveDate=this.editSelectedPackage.allDetails.sent_shipment.receive_date,this.newGeneralInfo.project=this.editSelectedPackage.allDetails.sent_shipment.project_id},updateGeneralInfo:function(){var e=this.newGeneralInfo;e.id=this.editSelectedPackage.allDetails.sent_shipment.id,this.$http.post("/admin/shipments/general/update",e,{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e.response),alert("The information could not be updated. Please try again.")})},handleFileUpload:function(){this.uploadDoc.file=this.$refs.file.files[0]},uploadShipmentDocument:function(){""!=this.uploadDoc.title&&("sent"==this.uploadDoc.type?this.uploadShipmentSentDocument():"received"==this.uploadDoc.type&&this.uploadShipmentReceivedDocument())},uploadShipmentSentDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("sent_doc[file][0]",this.uploadDoc.file),t.append("sent_doc[shipment_id]",this.sentSelectedPackage.package.id),t.append("sent_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/sent/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert("The document could not be uploaded. Please try again.")})},uploadShipmentReceivedDocument:function(){var e=this;this.showUploadProgress=!0;var t=new FormData;t.append("recieve_doc[file][0]",this.uploadDoc.file),t.append("recieve_doc[shipment_id]",this.recvdSelectedPackage.allDetails.sent_shipment.id),t.append("recieve_doc[title]",this.uploadDoc.title),this.$http.post("/shipments/documents/receive/store",t,{params:this.$http.defaults.params,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),alert(t.data.message),e.showUploadProgress=!1,e.hideUploadDialog()}).catch(function(t){console.log(t.response),e.showUploadProgress=!1,alert("The document could not be uploaded. Please try again.")})},downloadShipmentDocument:function(e){var t=this;this.$http.get("/shipments/documents/"+e,{responseType:"blob",params:this.$http.defaults.params}).then(function(a){t.forceFileDownload(a,e)}).catch(function(e){console.log(e)})},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(e.data),s=document.createElement("a");s.href=a,s.setAttribute("download","document_"+t),s.click()},getShipmentDocuments:function(e){var t=this;this.$http.get("/shipments/"+e+"/documents",{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.selectedPackageDocs=e.data}).catch(function(e){console.log(e)})},showUploadDialog:function(){this.uploadDoc.title="",this.uploadDoc.file="",this.showUploadProgress=!1;var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).open()},hideUploadDialog:function(){var e=document.querySelector("#modalUploadDocument");M.Modal.getInstance(e).close()},getLevels:function(){var e=this;this.$http.get("/meta/levels",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.allLevels=t.data}).catch(function(e){console.log(e)})},getLevelChildNodes:function(){var e=this;0!=this.recipient.level&&0!=this.recipient.province&&0!=this.recipient.district&&this.$http.get("/meta/levels/"+this.recipient.level+"/"+this.recipient.province+"/"+this.recipient.district+"/nodes",{params:this.$http.defaults.params}).then(function(t){e.selectedLevelChildNodes=t.data}).catch(function(e){console.log(e)})},getEditLevelChildNodes:function(){var e=this;0!=this.changeRecipient.level&&0!=this.changeRecipient.province&&0!=this.changeRecipient.district&&this.$http.get("/meta/levels/"+this.changeRecipient.level+"/"+this.changeRecipient.province+"/"+this.changeRecipient.district+"/nodes",{params:this.$http.defaults.params}).then(function(t){e.editSelectedLevelChildNodes=t.data}).catch(function(e){console.log(e)})},getProjects:function(){var e=this;this.$http.get("/meta/projects",{params:this.$http.defaults.params}).then(function(t){e.allProjects=t.data}).catch(function(e){console.log(e)})},getProvinces:function(){var e=this;this.$http.get("/meta/provinces",{params:this.$http.defaults.params}).then(function(t){e.allProvinces=t.data}).catch(function(e){console.log(e)})},getDistricts:function(){var e=this;this.$http.get("/meta/provinces/"+this.recipient.province+"/districts",{params:this.$http.defaults.params}).then(function(t){e.selectedProvinceDistricts=t.data}).catch(function(e){console.log(e)})},getEditDistricts:function(){var e=this;this.$http.get("/meta/provinces/"+this.changeRecipient.province+"/districts",{params:this.$http.defaults.params}).then(function(t){e.editSelectedProvinceDistricts=t.data}).catch(function(e){console.log(e)})},deleteShipment:function(){var e=this.editSelectedPackage.allDetails.sent_shipment.id;this.adminOutput+="SID "+e+": completely deleting the selected shipment.\n";var t=this;this.$http.get("/admin/shipments/"+e+"/delete",{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.adminOutput+=e.data.message}).catch(function(e){console.log(e),t.adminOutput+=e})},clearReceiveRecords:function(){this.adminOutput+="SRID "+this.editSelectedPackage.package.recieved_id+": clearing receive records including fine, lost, and damaged records.\n";var e=this;this.$http.get("/admin/shipments/"+this.editSelectedPackage.package.recieved_id+"/clear",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.adminOutput+=t.data.message}).catch(function(t){console.log(t),e.adminOutput+=t})},exitEditMode:function(){this.editMode=!1,this.editSelectedPackage={package:{},allDetails:{sent_shipment:{},receive_record:{}}},this.getReceivedPackages(),this.getSentPackages(),this.getToBeneficiaryPackages(),this.getFromBeneficiaryPackages()},editPackage:function(e,t){this.editSelectedPackage.package=e,this.editSelectedPackage.type=t,this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getEditPackageAllDetails(e.recieved_id),this.adminOutput="",this.editMode=!0},getEditPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/received/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.editSelectedPackage.allDetails=e.data,console.log(t.editSelectedPackage),t.getShipmentDocuments(t.editSelectedPackage.allDetails.sent_shipment.id)}).catch(function(e){console.log(e)})},getToBeneficiaryPackages:function(){var e=this;this.$http.get("/node/"+this.recipient.node+"/beneficiary/sent",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.toBeneficiaryPackages=t.data}).catch(function(e){console.log(e)})},getFromBeneficiaryPackages:function(){var e=this;this.$http.get("/node/"+this.recipient.node+"/beneficiary/received",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.fromBeneficiaryPackages=t.data}).catch(function(e){console.log(e)})},getCurrentBalance:function(){var e=this;this.$http.get("/admin/node/"+this.recipient.node+"/balance",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.currBalance=t.data}).catch(function(e){console.log(e)})},deleteBalanceTitle:function(e){if(console.log(e),confirm("This will delete the title from the inventory, setting the balance to 0. Are you sure you want to proceed?")){var t=this;this.$http.post("/admin/balance/record/delete",{recordId:e},{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.getCurrentBalance(),alert(e.data.message)}).catch(function(e){console.log(e.response)})}},editBalanceTitle:function(e){this.balanceRecordObj=e,this.balanceRecordObj.newTotal=e.total,console.log(this.balanceRecordObj)},updateBalanceTitle:function(){var e=this;this.$http.post("/admin/balance/record/update",{recordId:e.balanceRecordObj.id,newTotal:e.balanceRecordObj.newTotal},{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.getCurrentBalance(),alert(t.data.message)}).catch(function(e){console.log(e.response)})},viewSentPackageDetails:function(e){this.sentSelectedPackage.package=e,this.uploadDoc.type="sent",this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getSentPackageAllDetails(e.id),this.getShipmentDocuments(e.id)},getSentPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/sent/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.sentSelectedPackage.allDetails=e.data,console.log(t.sentSelectedPackage)}).catch(function(e){console.log(e)})},viewRecvdPackageDetails:function(e){this.recvdSelectedPackage.package=e,this.uploadDoc.type="received",this.selectedPackageDocs={sent_docs:[],reciept_docs:[]},this.getRecvdPackageAllDetails(e.recieved_id)},getRecvdPackageAllDetails:function(e){var t=this;this.$http.get("/shipments/received/"+e+"/all",{params:this.$http.defaults.params}).then(function(e){t.recvdSelectedPackage.allDetails=e.data,console.log(t.recvdSelectedPackage),t.getShipmentDocuments(t.recvdSelectedPackage.allDetails.sent_shipment.id)}).catch(function(e){console.log(e)})},getReceivedPackages:function(){var e=this;this.$http.get("/shipments/"+this.recipient.node+"/received/all",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.receivedPackages=t.data}).catch(function(e){console.log(e)})},getSentPackages:function(){var e=this;this.$http.get("/shipments/"+this.recipient.node+"/sent/all",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.sentPackages=t.data}).catch(function(e){console.log(e)})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"adminManagePackagesPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Package Management")]),e._v(" "),a("p",[e._v("You can use this section to manage all the packages related to a selected node on any level.")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentRecipientLevel"}},[e._v("Node Level")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.recipient.level,expression:"recipient.level"}],attrs:{id:"ShipmentRecipientLevel",name:"ShipmentRecipientLevel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.recipient,"level",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Level")]),e._v(" "),e._l(e.allLevels,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.recipient.province,expression:"recipient.province"}],attrs:{id:"ShipmentRecipientLevel2",name:"ShipmentRecipientLevel2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.recipient,"province",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Province")]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.recipient.district,expression:"recipient.district"}],attrs:{id:"ShipmentRecipientLevel3",name:"ShipmentRecipientLevel3"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.recipient,"district",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select District")]),e._v(" "),e._l(e.selectedProvinceDistricts,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentRecipient"}},[e._v("Node")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.recipient.node,expression:"recipient.node"}],attrs:{id:"ShipmentRecipient",name:"ShipmentRecipient"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.recipient,"node",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Node")]),e._v(" "),e._l(e.selectedLevelChildNodes,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])])])])]),e._v(" "),e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Edit Shipment")]),e._v(" "),"sent"==e.editSelectedPackage.type?a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalSentShipmentDetails"},on:{click:function(t){return e.viewSentPackageDetails(e.editSelectedPackage.package)}}},[e._v("View Details")]):e._e(),e._v(" "),"received"==e.editSelectedPackage.type?a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(t){return e.viewRecvdPackageDetails(e.editSelectedPackage.package)}}},[e._v("View Details")]):e._e(),e._v(" "),a("button",{staticClass:"waves-effect btn btn-small",on:{click:e.exitEditMode}},[e._v("Exit Edit Mode")]),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Title")]),e._v(" "),a("td",[e._v(e._s(e.editSelectedPackage.package.title))]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v("From")]),e._v(" "),a("td",[e._v("\n                    "+e._s(e.editSelectedPackage.package.From_title)+"\n                    "+e._s(e.editSelectedPackage.package.from_node)+"\n                  ")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Description")]),e._v(" "),a("td",[e._v(e._s(e.editSelectedPackage.package.description))]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v("To")]),e._v(" "),a("td",[e._v("\n                    "+e._s(e.editSelectedPackage.package.To_title)+"\n                    "+e._s(e.editSelectedPackage.package.to_node)+"\n                  ")])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Sent Date")]),e._v(" "),a("td",[e._v(e._s(e.editSelectedPackage.package.send_date))]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Current Status")]),e._v(" "),1==e.editSelectedPackage.package.recieved||1==e.editSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==e.editSelectedPackage.package.recieved||0==e.editSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e()])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalDeleteShipment"}},[e._v("Delete Shipment")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalClearReceiveRecords"}},[e._v("Clear Receive Records")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalEditGeneralInfo"},on:{click:e.editGeneralInfo}},[e._v("Edit General Information")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalChangeRecipient"}},[e._v("Change Recipient")])])])])])]):e._e(),e._v(" "),e.recipient.node>0&&!e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Current Inventory")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(0),e._v(" "),a("tbody",[e._l(e.currBalance,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.grade))]),e._v(" "),a("td",[e._v(e._s(t.lang))]),e._v(" "),a("td",[e._v(e._s(t.total))]),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.deleteBalanceTitle(t.id)}}},[e._v("Delete")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalEditBalanceTitle"},on:{click:function(a){return e.editBalanceTitle(t)}}},[e._v("Edit")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.currBalance.length<1,expression:"currBalance.length < 1"}]},[a("td",[e._v("No data available or inventory records empty.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small"},[e._v("Add New")])])])])]):e._e(),e._v(" "),e.recipient.node>0&&!e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Sent Packages")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(1),e._v(" "),a("tbody",[e._l(e.sentPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.send_date))]),e._v(" "),a("td",[e._v(e._s(t.from_node))]),e._v(" "),a("td",[e._v(e._s(t.to_node))]),e._v(" "),1==t.recieved_status?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==t.recieved_status?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalSentShipmentDetails"},on:{click:function(a){return e.viewSentPackageDetails(t)}}},[e._v("Details")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.editPackage(t,"sent")}}},[e._v("Edit")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.sentPackages||!e.sentPackages.length>0,expression:"!sentPackages || !sentPackages.length > 0"}]},[a("td",[e._v("No package sent yet.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br")])])])]):e._e(),e._v(" "),e.recipient.node>0&&!e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Received Packages")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(2),e._v(" "),a("tbody",[e._l(e.receivedPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.send_date))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v("Details")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.editPackage(t,"received")}}},[e._v("Edit")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.receivedPackages||!e.receivedPackages.length>0,expression:"!receivedPackages || !receivedPackages.length > 0"}]},[a("td",[e._v("No package received yet.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br")])])])]):e._e(),e._v(" "),e.recipient.node>0&&!e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s11 offset-s1"},[a("div",{staticClass:"card left-align hoverable",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Delivered to Students")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(3),e._v(" "),a("tbody",[e._l(e.toBeneficiaryPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.send_date))]),e._v(" "),a("td",[e._v(e._s(t.From_title))]),e._v(" "),a("td",[e._v("Beneficiaries")]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v("Details")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.editPackage(t,"received")}}},[e._v("Edit")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.toBeneficiaryPackages||!e.toBeneficiaryPackages.length>0,expression:"!toBeneficiaryPackages || !toBeneficiaryPackages.length > 0"}]},[a("td",[e._v("No package delivered yet.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)])])])])]):e._e(),e._v(" "),e.recipient.node>0&&!e.editMode?a("div",{staticClass:"row"},[a("div",{staticClass:"col s11 offset-s1"},[a("div",{staticClass:"card left-align hoverable",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Received from Students")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(4),e._v(" "),a("tbody",[e._l(e.fromBeneficiaryPackages,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.recieved_id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.send_date))]),e._v(" "),a("td",[e._v("Beneficiaries")]),e._v(" "),a("td",[e._v(e._s(t.To_title))]),e._v(" "),1==t.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==t.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalRecvdShipmentDetails"},on:{click:function(a){return e.viewRecvdPackageDetails(t)}}},[e._v("Details")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small",on:{click:function(a){return e.editPackage(t,"received")}}},[e._v("Edit")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.fromBeneficiaryPackages||!e.fromBeneficiaryPackages.length>0,expression:"!fromBeneficiaryPackages || !fromBeneficiaryPackages.length > 0"}]},[a("td",[e._v("No package received yet.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)])])])])]):e._e()]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalChangeRecipient"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Change Recipient")]),e._v(" "),0==e.editSelectedPackage.package.recieved||0==e.editSelectedPackage.package.recieved_status?a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"editShipmentRecipientLevel"}},[e._v("Shipment Recipient Level")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.changeRecipient.level,expression:"changeRecipient.level"}],attrs:{id:"editShipmentRecipientLevel",name:"editShipmentRecipientLevel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.changeRecipient,"level",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Level")]),e._v(" "),e._l(e.allLevels,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.changeRecipient.province,expression:"changeRecipient.province"}],attrs:{id:"editShipmentRecipientLevel2",name:"editShipmentRecipientLevel2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.changeRecipient,"province",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Province")]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.changeRecipient.district,expression:"changeRecipient.district"}],attrs:{id:"editShipmentRecipientLevel3",name:"editShipmentRecipientLevel3"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.changeRecipient,"district",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select District")]),e._v(" "),e._l(e.editSelectedProvinceDistricts,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"editShipmentRecipient"}},[e._v("Shipment Recipient")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.changeRecipient.node,expression:"changeRecipient.node"}],attrs:{id:"editShipmentRecipient",name:"editShipmentRecipient"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.changeRecipient,"node",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Recipient")]),e._v(" "),e._l(e.editSelectedLevelChildNodes,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])]):a("div",[a("p",[e._v('You cannot change the recipient of an already received package. The package status has to be "Pending" to change the recipient.')])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[0==e.editSelectedPackage.package.recieved||0==e.editSelectedPackage.package.recieved_status?a("button",{staticClass:"modal-close waves-effect btn-small",on:{click:e.updateRecipient}},[e._v("Update")]):e._e(),e._v(" "),a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v("Close")])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalEditGeneralInfo"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Edit General Information")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentTitle"}},[e._v("Shipment Title")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newGeneralInfo.title,expression:"newGeneralInfo.title"}],staticClass:"validate",attrs:{type:"text",id:"ShipmentTitle",name:"ShipmentTitle",placeholder:"Shipment Title",required:"","aria-required":"true"},domProps:{value:e.newGeneralInfo.title},on:{input:function(t){t.target.composing||e.$set(e.newGeneralInfo,"title",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ShipmentDescription"}},[e._v("Shipment Description")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newGeneralInfo.description,expression:"newGeneralInfo.description"}],attrs:{type:"text",id:"ShipmentDescription",name:"ShipmentDescription",placeholder:"Shipment Description"},domProps:{value:e.newGeneralInfo.description},on:{input:function(t){t.target.composing||e.$set(e.newGeneralInfo,"description",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"projectDDL"}},[e._v("Textbooks Project")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newGeneralInfo.project,expression:"newGeneralInfo.project"}],attrs:{id:"projectDDL",name:"projectDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.newGeneralInfo,"project",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Project")]),e._v(" "),e._l(e.allProjects,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"SendDate"}},[e._v("Send Date")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newGeneralInfo.sendDate,expression:"newGeneralInfo.sendDate"}],staticClass:"validate",attrs:{type:"date",id:"SendDate",name:"SendDate",required:"","aria-required":"true"},domProps:{value:e.newGeneralInfo.sendDate},on:{input:function(t){t.target.composing||e.$set(e.newGeneralInfo,"sendDate",t.target.value)}}})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"ReceiveDate"}},[e._v("Receive Date")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newGeneralInfo.receiveDate,expression:"newGeneralInfo.receiveDate"}],staticClass:"validate",attrs:{type:"date",id:"ReceiveDate",name:"ReceiveDate",required:"","aria-required":"true"},domProps:{value:e.newGeneralInfo.receiveDate},on:{input:function(t){t.target.composing||e.$set(e.newGeneralInfo,"receiveDate",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"modal-close waves-effect btn-small",on:{click:e.updateGeneralInfo}},[e._v("Update")]),e._v(" "),a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v("Close")])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalEditBalanceTitle"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Update Title Quantity")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"titleQuantity"}},[e._v("Quantity")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.balanceRecordObj.newTotal,expression:"balanceRecordObj.newTotal"}],staticClass:"validate",attrs:{type:"number",id:"titleQuantity",name:"titleQuantity",placeholder:"Quantity",required:"","aria-required":"true"},domProps:{value:e.balanceRecordObj.newTotal},on:{input:function(t){t.target.composing||e.$set(e.balanceRecordObj,"newTotal",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"modal-close waves-effect btn-small",on:{click:e.updateBalanceTitle}},[e._v("Update")]),e._v(" "),a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v("Close")])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalDeleteShipment"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Delete Shipment")]),e._v(" "),a("p",[e._v("This operation will completely delete the selected shipment along with all the associated records.")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:e.deleteShipment}},[e._v("Delete Shipment")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12"},[a("div",{staticClass:"row"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.adminOutput,expression:"adminOutput"}],staticStyle:{height:"200px",width:"100%"},attrs:{id:"outputTA"},domProps:{value:e.adminOutput},on:{input:function(t){t.target.composing||(e.adminOutput=t.target.value)}}},[e._v("..")])])])])]),e._v(" "),e._m(5)]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalClearReceiveRecords"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Clear Receive Records")]),e._v(" "),a("p",[e._v("This operation will clear all the receive records including fine, lost, and damaged records of the selected shipment.")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:e.clearReceiveRecords}},[e._v("Clear Receive Records")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col s12"},[a("div",{staticClass:"row"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.adminOutput,expression:"adminOutput"}],staticStyle:{height:"200px",width:"100%"},attrs:{id:"outputTA"},domProps:{value:e.adminOutput},on:{input:function(t){t.target.composing||(e.adminOutput=t.target.value)}}},[e._v("..")])])])])]),e._v(" "),e._m(6)]),e._v(" "),a("div",{staticClass:"modal modal-fixed-footer",attrs:{id:"modalSentShipmentDetails"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Shipment Details")]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Title")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.title))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Received")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.total_general))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Description")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.description))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Safe")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.total_safe))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Sent Date")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.send_date))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Damaged")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.damaged))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Received Date")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.receive_date))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Lost")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.sentSelectedPackage.allDetails.receive_record.lost))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("From")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.from_node))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("To")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.to_node))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Sender Name")]),e._v(" "),a("td",[e._v(e._s(e.sentSelectedPackage.package.sender_name))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Current Status")]),e._v(" "),1==e.sentSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==e.sentSelectedPackage.package.recieved_status?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td"),e._v(" "),a("td")])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("table",{staticClass:"striped"},[e._m(7),e._v(" "),a("tbody",[e._l(e.selectedPackageDocs.sent_docs,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v("Sent")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v("Download")])])])}),e._v(" "),e._l(e.selectedPackageDocs.reciept_docs,function(t,s){return a("tr",{key:s+4520},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v("Received")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v("Download")])])])}),e._v(" "),e.selectedPackageDocs.reciept_docs.length<1&&e.selectedPackageDocs.sent_docs.length<1?a("tr",[a("td",[e._v("No documents uploaded yet.")]),e._v(" "),a("td"),e._v(" "),a("td")]):e._e()],2)]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small light-blue darken-4",on:{click:e.showUploadDialog}},[e._v("Upload New")])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[e._m(8),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"sent"}},[a("table",[e._m(9),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"received"}},[a("table",[e._m(10),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.sent_received_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"damaged"}},[a("table",[e._m(11),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.receive_dmg_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"lost"}},[a("table",[e._m(12),e._v(" "),a("tbody",e._l(e.sentSelectedPackage.allDetails.receive_lost_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])]),e._v(" "),e._m(13)]),e._v(" "),a("div",{staticClass:"modal modal-fixed-footer",attrs:{id:"modalRecvdShipmentDetails"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Shipment Details")]),e._v(" "),a("table",{staticClass:"striped"},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Title")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.title))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Received")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_general))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Shipment Description")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.description))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Safe")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.total_safe))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Sent Date")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.send_date))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Damaged")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.damaged))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Received Date")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.allDetails.sent_shipment.receive_date))]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1",staticStyle:{"font-weight":"bold"}},[e._v("Total Lost")]),e._v(" "),a("td",{staticClass:"red-text text-lighten-1"},[e._v(e._s(e.recvdSelectedPackage.allDetails.receive_record.lost))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("From")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.From_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("To")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.To_title))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Sender Name")]),e._v(" "),a("td",[e._v(e._s(e.recvdSelectedPackage.package.sender_name))]),e._v(" "),a("td"),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("Current Status")]),e._v(" "),1==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"receivedStatus"},[e._v("Received")])]):e._e(),e._v(" "),0==e.recvdSelectedPackage.package.recieved?a("td",[a("div",{staticClass:"pendingStatus"},[e._v("Pending")])]):e._e(),e._v(" "),a("td"),e._v(" "),a("td")])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("table",{staticClass:"striped"},[e._m(14),e._v(" "),a("tbody",[e._l(e.selectedPackageDocs.sent_docs,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v("Sent")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v("Download")])])])}),e._v(" "),e._l(e.selectedPackageDocs.reciept_docs,function(t,s){return a("tr",{key:s+4520},[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v("Received")]),e._v(" "),a("td",{staticStyle:{"text-align":"right"}},[a("a",{staticClass:"btn btn-small",on:{click:function(a){return e.downloadShipmentDocument(t.id)}}},[e._v("Download")])])])}),e._v(" "),e.selectedPackageDocs.reciept_docs.length<1&&e.selectedPackageDocs.sent_docs.length<1?a("tr",[a("td",[e._v("No documents uploaded yet.")]),e._v(" "),a("td"),e._v(" "),a("td")]):e._e()],2)]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small light-blue darken-4",on:{click:e.showUploadDialog}},[e._v("Upload New")])]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[e._m(15),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_sent"}},[a("table",[e._m(16),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_received"}},[a("table",[e._m(17),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.sent_received_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_damaged"}},[a("table",[e._m(18),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_dmg_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"r_lost"}},[a("table",[e._m(19),e._v(" "),a("tbody",e._l(e.recvdSelectedPackage.allDetails.receive_lost_grades_detail,function(t,s){return a("tr",{key:s},[a("td",{staticStyle:{border:"1px solid #e2e2e2"}},[e._v(e._s(s))]),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.title))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.language))])])}),0),e._v(" "),a("td",{staticStyle:{border:"1px solid #e2e2e2"}},e._l(t,function(t,s){return a("tr",{key:s,staticStyle:{border:"none"}},[a("td",[e._v(e._s(t.total))])])}),0)])}),0)])])])]),e._v(" "),e._m(20)]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalUploadDocument"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Upload Document")]),e._v(" "),e.showUploadProgress?e._e():a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"documentTitle"}},[e._v("Document Title")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.uploadDoc.title,expression:"uploadDoc.title"}],staticClass:"validate",attrs:{type:"text",id:"documentTitle",name:"documentTitle",placeholder:"Document Title",required:"","aria-required":"true"},domProps:{value:e.uploadDoc.title},on:{input:function(t){t.target.composing||e.$set(e.uploadDoc,"title",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"file-field input-field"},[a("div",{staticClass:"btn-small"},[a("span",[e._v("Select File")]),e._v(" "),a("input",{ref:"file",attrs:{type:"file",id:"file",required:""},on:{change:function(t){return e.handleFileUpload()}}})]),e._v(" "),e._m(21)])])]),e._v(" "),e.showUploadProgress?a("div",{staticStyle:{"margin-top":"20px"}},[a("p",[e._v("Uploading document. Please wait...")]),e._v(" "),e._m(22)]):e._e()]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"waves-effect light-blue darken-4 btn-small",on:{click:e.uploadShipmentDocument}},[e._v("Upload Document")]),e._v(" "),a("a",{staticClass:"modal-close waves-effect btn-small"},[e._v("Close")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Grade")]),e._v(" "),a("th",[e._v("Language")]),e._v(" "),a("th",[e._v("Quantity")]),e._v(" "),a("th",[e._v("Action")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Package ID")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Sent Date")]),e._v(" "),a("th",[e._v("From")]),e._v(" "),a("th",[e._v("To")]),e._v(" "),a("th",[e._v("Status")]),e._v(" "),a("th",[e._v("Action")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Package ID")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Sent Date")]),e._v(" "),a("th",[e._v("From")]),e._v(" "),a("th",[e._v("To")]),e._v(" "),a("th",[e._v("Status")]),e._v(" "),a("th",[e._v("Action")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Package ID")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Sent Date")]),e._v(" "),a("th",[e._v("From")]),e._v(" "),a("th",[e._v("To")]),e._v(" "),a("th",[e._v("Status")]),e._v(" "),a("th",[e._v("Action")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Package ID")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Sent Date")]),e._v(" "),a("th",[e._v("From")]),e._v(" "),a("th",[e._v("To")]),e._v(" "),a("th",[e._v("Status")]),e._v(" "),a("th",[e._v("Action")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",{staticStyle:{color:"#ee6e73","font-size":"14px !important","text-transform":"uppercase","font-weight":"normal !important"}},[t("td",[this._v("Document Title")]),this._v(" "),t("td",[this._v("Type")]),this._v(" "),t("td",[this._v("Download")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12"},[t("ul",{staticClass:"tabs"},[t("li",{staticClass:"tab col s3"},[t("a",{staticClass:"active",attrs:{href:"#sent"}},[this._v("Sent")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#received"}},[this._v("Received")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#damaged"}},[this._v("Damaged")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#lost"}},[this._v("Lost")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",{staticStyle:{color:"#ee6e73","font-size":"14px !important","text-transform":"uppercase","font-weight":"normal !important"}},[t("td",[this._v("Document Title")]),this._v(" "),t("td",[this._v("Type")]),this._v(" "),t("td",[this._v("Download")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col s12"},[t("ul",{staticClass:"tabs"},[t("li",{staticClass:"tab col s3"},[t("a",{staticClass:"active",attrs:{href:"#r_sent"}},[this._v("Sent")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#r_received"}},[this._v("Received")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#r_damaged"}},[this._v("Damaged")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{attrs:{href:"#r_lost"}},[this._v("Lost")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Grade")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Language")]),this._v(" "),t("th",[this._v("Quantity")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-path-wrapper"},[t("input",{staticClass:"file-path validate",attrs:{type:"text"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"indeterminate"})])}]};var U=a("VU/8")(j,B,!1,function(e){a("gJLU")},"data-v-f2e615cc",null).exports,G={name:"AdminManageNodes",mounted:function(){},created:function(){this.getLevels(),this.getProvinces()},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},watch:{"assignNodes.province":function(){this.assignNodes.district=0,this.getAssignNodesDistricts()},"assignNodes.district":function(){this.getAssignNodesAvailableSchools(),this.getAssignNodesDistrictUsers(),this.assignNodes.assignedSchools=[],this.assignNodes.user=0,this.assignNodes.selectedAvailableNodes=[],this.assignNodes.selectedAssignedNodes=[]},"assignNodes.user":function(){this.getAssignNodesUserSchools()},"nodes.level":function(){this.nodes.province=0,console.log(this.nodes.level)},"nodes.province":function(e,t){this.nodes.district=0,this.getNodeDistricts(),this.nodeSelectedLevelChildNodes=[]},"nodes.district":function(e,t){this.getNodeLevelChildNodes(),this.getNodeParentNode()}},data:function(){return{usersSection:{searchUsers:[],searchTerm:"",currentMainNodes:[],currentSchoolNodes:[],selectedUser:0,selectedUserRoles:[],newPassword:""},assignSingleNode:{selectedNode:0,currentUsers:[],searchTerm:"",searchUsers:[]},assignNodes:{level:0,province:0,district:0,user:0,availableSchools:[],users:[],assignedSchools:[],unassignedSchools:[],selectedAvailableNodes:[],selectedAssignedNodes:[]},nodes:{level:0,province:0,district:0,parent:0,title:"",description:""},allLevels:[],allProvinces:[],assignNodesSelectedProvinceDistricts:[],nodeSelectedProvinceDistricts:[],nodeSelectedLevelChildNodes:[],nodeParentNode:[]}},methods:{displayChangeUserPasswordDialog:function(e){this.usersSection.selectedUser=e,this.usersSection.newPassword=""},changeUserPassword:function(){if(this.usersSection.newPassword.length>=6&&0!=this.usersSection.selectedUser){var e={userId:this.usersSection.selectedUser,password:this.usersSection.newPassword};this.$http.post("/admin/users/password",e,{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e.response),alert(e.response.data.message)})}else alert("Please enter a valid password matching the password criteria.")},loadUserNodes:function(e){this.usersSection.selectedUser=e,this.loadUserRoles(),this.loadUserMainNodes(),this.loadUserSchoolNodes()},loadUserRoles:function(){var e=this;this.$http.get("/admin/users/"+e.usersSection.selectedUser+"/roles",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.usersSection.selectedUserRoles=t.data}).catch(function(e){console.log(e)})},loadUserMainNodes:function(){var e=this;this.$http.get("/admin/users/"+e.usersSection.selectedUser+"/nodes",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.usersSection.currentMainNodes=t.data}).catch(function(e){console.log(e)})},loadUserSchoolNodes:function(){var e=this;this.$http.get("/admin/users/"+e.usersSection.selectedUser+"/nodes/schools",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.usersSection.currentSchoolNodes=t.data}).catch(function(e){console.log(e)})},usersSectionSearchUsers:function(){var e=this;this.$http.get("/admin/users/search/"+e.usersSection.searchTerm,{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.usersSection.searchUsers=t.data}).catch(function(e){console.log(e)})},searchUsers:function(){var e=this;this.$http.get("/admin/users/search/"+e.assignSingleNode.searchTerm,{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.assignSingleNode.searchUsers=t.data}).catch(function(e){console.log(e)})},assignNodeToUser:function(e){console.log(e),console.log(this.assignSingleNode.selectedNode);this.$http.get("/admin/nodes/assign/"+this.assignSingleNode.selectedNode+"/"+e,{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e),alert(e.response.data.message)})},unassignNodeFromUser:function(e,t){this.$http.get("/admin/nodes/unassign/"+e+"/"+t,{params:this.$http.defaults.params}).then(function(e){console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e),alert(e.response.data.message)})},loadNodeCurrentUsers:function(e){var t=this;this.assignSingleNode.selectedNode=e,this.assignSingleNode.searchUsers=[],this.$http.get("/admin/nodes/"+e+"/users",{params:this.$http.defaults.params}).then(function(e){console.log(e.data),t.assignSingleNode.currentUsers=e.data}).catch(function(e){console.log(e)})},addNode:function(){var e=this,t={province:this.nodes.province,district:this.nodes.district,parent_id:this.nodes.parent,level_id:this.nodes.level,description:this.nodes.description,title:this.nodes.title,code:"0"};0!=t.parent_id&&t.title.length>1?this.$http.post("/admin/nodes/create",t,{params:this.$http.defaults.params}).then(function(t){e.getNodeLevelChildNodes(),alert(t.data.message)}).catch(function(e){console.log(e.response),alert("The node could not be created. Please try again.")}):alert("Please select a parent node for the new node and then try again.")},getLevels:function(){var e=this;this.$http.get("/meta/levels",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.allLevels=t.data}).catch(function(e){console.log(e)})},getNodeParentNode:function(){var e=this;this.nodeParentNode=[],0!=this.nodes.level&&0!=this.nodes.province&&0!=this.nodes.district&&this.$http.get("/meta/levels/14/"+this.nodes.province+"/"+this.nodes.district+"/nodes",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.nodeParentNode=t.data}).catch(function(e){console.log(e)})},getNodeLevelChildNodes:function(){var e=this;this.nodeSelectedLevelChildNodes=[],0!=this.nodes.level&&0!=this.nodes.province&&0!=this.nodes.district&&this.$http.get("/meta/levels/"+this.nodes.level+"/"+this.nodes.province+"/"+this.nodes.district+"/nodes",{params:this.$http.defaults.params}).then(function(t){console.log(t.data),e.nodeSelectedLevelChildNodes=t.data}).catch(function(e){console.log(e)})},getProvinces:function(){var e=this;this.$http.get("/meta/provinces",{params:this.$http.defaults.params}).then(function(t){e.allProvinces=t.data}).catch(function(e){console.log(e)})},getNodeDistricts:function(){var e=this;this.$http.get("/meta/provinces/"+this.nodes.province+"/districts",{params:this.$http.defaults.params}).then(function(t){e.nodeSelectedProvinceDistricts=t.data}).catch(function(e){console.log(e)})},getAssignNodesDistricts:function(){var e=this;this.$http.get("/meta/provinces/"+this.assignNodes.province+"/districts",{params:this.$http.defaults.params}).then(function(t){e.assignNodesSelectedProvinceDistricts=t.data}).catch(function(e){console.log(e)})},getAssignNodesAvailableSchools:function(){var e=this;this.$http.get("/admin/nodes/"+this.assignNodes.province+"/"+this.assignNodes.district+"/schools",{params:this.$http.defaults.params}).then(function(t){e.assignNodes.availableSchools=t.data,e.assignNodes.unassignedSchools=t.data}).catch(function(e){console.log(e)})},getAssignNodesDistrictUsers:function(){var e=this;this.$http.get("/admin/nodes/"+this.assignNodes.province+"/"+this.assignNodes.district+"/users",{params:this.$http.defaults.params}).then(function(t){e.assignNodes.users=t.data}).catch(function(e){console.log(e)})},getAssignNodesUserSchools:function(){var e=this;this.$http.get("/admin/nodes/"+this.assignNodes.user+"/schools",{params:this.$http.defaults.params}).then(function(t){e.assignNodes.assignedSchools=t.data,e.filterAssignNodesAvailableSchools()}).catch(function(e){console.log(e)})},filterAssignNodesAvailableSchools:function(){var e=this.assignNodes.availableSchools,t=this.assignNodes.assignedSchools,a=e.filter(function(e){if(void 0==t.find(function(t){return t.node_id==e.id}))return!0});this.assignNodes.unassignedSchools=a},assignSelectedSchools:function(){if(this.assignNodes.province>0&&this.assignNodes.district>0&&this.assignNodes.user>0){console.log(this.assignNodes.selectedAvailableNodes);var e=this;this.$http.post("/admin/nodes/user/schools/assign",{assignSchools:e.assignNodes.selectedAvailableNodes,user_id:e.assignNodes.user},{params:this.$http.defaults.params}).then(function(t){e.getAssignNodesUserSchools(),console.log(t.data),alert(t.data.message)}).catch(function(e){console.log(e.response),alert(e.response.data.message)})}},assignAllSchools:function(){if(this.assignNodes.province>0&&this.assignNodes.district>0&&this.assignNodes.user>0){var e=this.assignNodes.unassignedSchools.map(function(e){return e.id});console.log(e);var t=this;this.$http.post("/admin/nodes/user/schools/assign",{assignSchools:e,user_id:t.assignNodes.user},{params:this.$http.defaults.params}).then(function(e){t.getAssignNodesUserSchools(),console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e.response),alert(e.response.data.message)})}},unassignSelectedSchools:function(){if(this.assignNodes.province>0&&this.assignNodes.district>0&&this.assignNodes.user>0){console.log(this.assignNodes.selectedAssignedNodes);var e=this;this.$http.post("/admin/nodes/user/schools/unassign",{unassignSchools:e.assignNodes.selectedAssignedNodes,user_id:e.assignNodes.user},{params:this.$http.defaults.params}).then(function(t){e.getAssignNodesUserSchools(),console.log(t.data),alert(t.data.message)}).catch(function(e){console.log(e.response),alert(e.response.data.message)})}},unassignAllSchools:function(){if(this.assignNodes.province>0&&this.assignNodes.district>0&&this.assignNodes.user>0){var e=this.assignNodes.assignedSchools.map(function(e){return e.node_id});console.log(e);var t=this;this.$http.post("/admin/nodes/user/schools/unassign",{unassignSchools:e,user_id:t.assignNodes.user},{params:this.$http.defaults.params}).then(function(e){t.getAssignNodesUserSchools(),console.log(e.data),alert(e.data.message)}).catch(function(e){console.log(e.response),alert(e.response.data.message)})}}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"adminManageNodesPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Node Levels")]),e._v(" "),a("p",[e._v("This section displays the list of available node levels. Editing the node levels is not currently allowed.")]),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(0),e._v(" "),a("tbody",e._l(e.allLevels,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.code))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.description))])])}),0)]),e._v(" "),a("br")])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Manage Nodes")]),e._v(" "),a("p",[e._v("You can use this section to manage nodes on any level. You can also use this section to assign nodes to users.")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.nodes.level,expression:"nodes.level"}],attrs:{id:"nodeShipmentRecipientLevel",name:"nodeShipmentRecipientLevel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.nodes,"level",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Level")]),e._v(" "),e._l(e.allLevels,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nodes.province,expression:"nodes.province"}],attrs:{id:"nodeShipmentRecipientLevel2",name:"nodeShipmentRecipientLevel2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.nodes,"province",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Province")]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nodes.district,expression:"nodes.district"}],attrs:{id:"nodeShipmentRecipientLevel3",name:"nodeShipmentRecipientLevel3"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.nodes,"district",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select District")]),e._v(" "),e._l(e.nodeSelectedProvinceDistricts,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("br"),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(1),e._v(" "),a("tbody",[e._l(e.nodeSelectedLevelChildNodes,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.description))]),e._v(" "),a("td",[e._v(e._s(t.parent_id))]),e._v(" "),a("td",[e._v(e._s(t.level_id))]),e._v(" "),a("td",[e._v(e._s(t.province))]),e._v(" "),a("td",[e._v(e._s(t.district))]),e._v(" "),a("td",[a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small"},[e._v("Edit")]),e._v(" "),a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalAssignUser"},on:{click:function(a){return e.loadNodeCurrentUsers(t.id)}}},[e._v("Assign to User")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.nodeSelectedLevelChildNodes.length<1,expression:"nodeSelectedLevelChildNodes.length < 1"}]},[a("td",[e._v("No data available.")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("br"),e._v(" "),15==e.nodes.level&&0!=e.nodes.province&&0!=e.nodes.district?a("button",{staticClass:"waves-effect light-blue darken-4 btn btn-small modal-trigger",attrs:{href:"#modalAddNode"}},[e._v("Add New")]):e._e()])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Manage Users")]),e._v(" "),a("p",[e._v("You can use this section to manage users as well as see what nodes are currently assigned to users.")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"input-field"},[a("label",{attrs:{for:"searchTerm"}},[e._v("Name / Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usersSection.searchTerm,expression:"usersSection.searchTerm"}],staticClass:"validate",attrs:{id:"searchTerm",type:"text",name:"searchTerm",placeholder:"Name / Email",required:"","aria-required":"true"},domProps:{value:e.usersSection.searchTerm},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.usersSectionSearchUsers(t)},input:function(t){t.target.composing||e.$set(e.usersSection,"searchTerm",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn waves-effect light-blue darken-4",on:{click:e.usersSectionSearchUsers}},[e._v("Search")]),e._v(" "),a("br"),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(2),e._v(" "),a("tbody",[e._l(e.usersSection.searchUsers,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",[a("button",{staticClass:"btn-small waves-effect light-blue darken-4 modal-trigger",attrs:{href:"#modalChangeUserPassword"},on:{click:function(a){return e.displayChangeUserPasswordDialog(t.id)}}},[e._v("Change Password")]),e._v(" "),a("button",{staticClass:"btn-small waves-effect light-blue darken-4 modal-trigger",attrs:{href:"#modalViewUserNodes"},on:{click:function(a){return e.loadUserNodes(t.id)}}},[e._v("View Nodes")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.usersSection.searchUsers.length>0,expression:"!usersSection.searchUsers.length > 0"}]},[a("td",[e._v("No data available.")]),e._v(" "),a("td"),e._v(" "),a("td")])],2)])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Assign Schools to District Users")]),e._v(" "),a("p",[e._v("\n              Since district level users are allowed to manage packages for schools under their respective districts,\n              you can use this section to assign schools to district level users for which they will be able to manage packages.\n            ")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.level,expression:"assignNodes.level"}],attrs:{id:"nodeShipmentRecipientLevel",name:"nodeShipmentRecipientLevel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"level",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("School Level")])]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.province,expression:"assignNodes.province"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"province",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Province")]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.district,expression:"assignNodes.district"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"district",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select District")]),e._v(" "),e._l(e.assignNodesSelectedProvinceDistricts,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"form-field"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.user,expression:"assignNodes.user"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"user",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select User")]),e._v(" "),e._l(e.assignNodes.users,function(t){return a("option",{key:t.user_id,domProps:{value:t.user_id}},[e._v(e._s(t.user_name)+" ("+e._s(t.user_email)+")")])})],2)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field col s5"},[a("label",[e._v("Available Nodes ("+e._s(e.assignNodes.unassignedSchools.length)+")")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.selectedAvailableNodes,expression:"assignNodes.selectedAvailableNodes"}],staticClass:"browser-default",staticStyle:{"min-height":"400px"},attrs:{multiple:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"selectedAvailableNodes",t.target.multiple?a:a[0])}}},e._l(e.assignNodes.unassignedSchools,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.title))])}),0)]),e._v(" "),a("div",{staticClass:"form-field col s2"},[a("div",{staticClass:"center-align",staticStyle:{"margin-top":"22px"}},[a("input",{staticClass:"waves-effect waves-light btn-small",staticStyle:{width:"50px"},attrs:{type:"button",value:">"},on:{click:e.assignSelectedSchools}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("input",{staticClass:"waves-effect waves-light btn-small",staticStyle:{width:"50px"},attrs:{type:"button",value:">>"},on:{click:e.assignAllSchools}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("input",{staticClass:"waves-effect waves-light btn-small",staticStyle:{width:"50px"},attrs:{type:"button",value:"<"},on:{click:e.unassignSelectedSchools}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("input",{staticClass:"waves-effect waves-light btn-small",staticStyle:{width:"50px"},attrs:{type:"button",value:"<<"},on:{click:e.unassignAllSchools}})])]),e._v(" "),a("div",{staticClass:"form-field col s5"},[a("label",[e._v("Assigned Nodes ("+e._s(e.assignNodes.assignedSchools.length)+")")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.assignNodes.selectedAssignedNodes,expression:"assignNodes.selectedAssignedNodes"}],staticClass:"browser-default",staticStyle:{"min-height":"400px"},attrs:{multiple:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.assignNodes,"selectedAssignedNodes",t.target.multiple?a:a[0])}}},e._l(e.assignNodes.assignedSchools,function(t){return a("option",{key:t.node_id,domProps:{value:t.node_id}},[e._v(e._s(t.node_title))])}),0)])])])])])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalAddNode"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Add New Node")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"nodeTitle"}},[e._v("Node Title")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nodes.title,expression:"nodes.title"}],staticClass:"validate",attrs:{type:"text",id:"nodeTitle",name:"nodeTitle",placeholder:"Node Title",required:"","aria-required":"true"},domProps:{value:e.nodes.title},on:{input:function(t){t.target.composing||e.$set(e.nodes,"title",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"nodeDescription"}},[e._v("Description")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nodes.description,expression:"nodes.description"}],staticClass:"validate",attrs:{type:"text",id:"nodeDescription",name:"nodeDescription",placeholder:"Node Title",required:"","aria-required":"true"},domProps:{value:e.nodes.description},on:{input:function(t){t.target.composing||e.$set(e.nodes,"description",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"parentNode"}},[e._v("Parent Node")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nodes.parent,expression:"nodes.parent"}],attrs:{id:"parentNode",name:"parentNode"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.nodes,"parent",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Parent Node")]),e._v(" "),e._l(e.nodeParentNode,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"modal-close waves-effect btn-small",on:{click:e.addNode}},[e._v("Add Node")]),e._v(" "),a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v("Close")])])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalAssignUser"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Assign Node to User")]),e._v(" "),a("p",[e._v("A user can manage anything related to an assigned node using their account. You can assign this node to a user by searching for and selecting a user below. The list of users this node is currently assigned to is also displayed below.")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"searchTerm"}},[e._v("Name / Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.assignSingleNode.searchTerm,expression:"assignSingleNode.searchTerm"}],staticClass:"validate",attrs:{id:"searchTerm",type:"text",name:"searchTerm",placeholder:"Name / Email",required:"","aria-required":"true"},domProps:{value:e.assignSingleNode.searchTerm},on:{input:function(t){t.target.composing||e.$set(e.assignSingleNode,"searchTerm",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn waves-effect light-blue darken-4",on:{click:e.searchUsers}},[e._v("Search")])]),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[a("tbody",e._l(e.assignSingleNode.searchUsers,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",[a("button",{staticClass:"modal-close btn-small light-blue darken-4",on:{click:function(a){return e.assignNodeToUser(t.id)}}},[e._v("Assign")])])])}),0)]),e._v(" "),a("br"),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(3),e._v(" "),a("tbody",[e._l(e.assignSingleNode.currentUsers,function(t){return a("tr",{key:t.user_id},[a("td",[e._v(e._s(t.user_name))]),e._v(" "),a("td",[e._v(e._s(t.user_email))]),e._v(" "),a("td",[a("button",{staticClass:"modal-close btn-small light-blue darken-4",on:{click:function(a){return e.unassignNodeFromUser(t.node_id,t.user_id)}}},[e._v("Remove")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.assignSingleNode.currentUsers.length>0,expression:"!assignSingleNode.currentUsers.length > 0"}]},[a("td",[e._v("No data available.")]),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),e._m(4)])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalViewUserNodes"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("User Nodes")]),e._v(" "),a("p",[e._v("Below is the list of nodes currently assigned to the selected user. To assign new nodes, please use the Manage Nodes section.")]),e._v(" "),a("table",{staticStyle:{"margin-top":"10px"}},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("User ID")]),e._v(" "),a("td",[e._v(e._s(e.usersSection.selectedUser))])]),e._v(" "),a("tr",[a("td",{staticStyle:{"font-weight":"bold"}},[e._v("User Roles")]),e._v(" "),a("td",[e._l(e.usersSection.selectedUserRoles,function(t){return a("li",{key:t.id},[e._v(e._s(t.display_name))])}),e._v(" "),!e.usersSection.selectedUserRoles.length>0?a("span",[e._v("No role assigned yet.")]):e._e()],2)])])]),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(5),e._v(" "),a("tbody",[e._l(e.usersSection.currentMainNodes,function(t){return a("tr",{key:t.node_id},[a("td",[e._v(e._s(t.node_title))]),e._v(" "),a("td",[e._v(e._s(t.level_title))]),e._v(" "),a("td",[a("button",{staticClass:"modal-close btn-small light-blue darken-4",on:{click:function(a){return e.unassignNodeFromUser(t.node_id,t.user_id)}}},[e._v("Remove")])])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.usersSection.currentMainNodes.length>0,expression:"!usersSection.currentMainNodes.length > 0"}]},[a("td",[e._v("No data available.")]),e._v(" "),a("td"),e._v(" "),a("td")])],2)]),e._v(" "),a("hr"),e._v(" "),a("table",{staticClass:"striped",staticStyle:{"margin-top":"10px"}},[e._m(6),e._v(" "),a("tbody",[e._l(e.usersSection.currentSchoolNodes,function(t){return a("tr",{key:t.node_id},[a("td",[e._v(e._s(t.node_title))]),e._v(" "),a("td",[e._v(e._s(t.level_title))])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:!e.usersSection.currentSchoolNodes.length>0,expression:"!usersSection.currentSchoolNodes.length > 0"}]},[a("td",[e._v("No data available.")]),e._v(" "),a("td")])],2)]),e._v(" "),e._m(7)])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalChangeUserPassword"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Change User Password")]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"newPassword"}},[e._v("New Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.usersSection.newPassword,expression:"usersSection.newPassword"}],staticClass:"validate",attrs:{type:"password",id:"newPassword",name:"newPassword",placeholder:"New Password",required:"","aria-required":"true"},domProps:{value:e.usersSection.newPassword},on:{input:function(t){t.target.composing||e.$set(e.usersSection,"newPassword",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"modal-close waves-effect btn-small",on:{click:e.changeUserPassword}},[e._v("Change Password")]),e._v(" "),a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[e._v("Close")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("Code")]),this._v(" "),t("th",[this._v("Title")]),this._v(" "),t("th",[this._v("Description")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Description")]),e._v(" "),a("th",[e._v("Parent ID")]),e._v(" "),a("th",[e._v("Level ID")]),e._v(" "),a("th",[e._v("Province ID")]),e._v(" "),a("th",[e._v("District ID")]),e._v(" "),a("th",[e._v("Action")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("Full Name")]),this._v(" "),t("th",[this._v("Email")]),this._v(" "),t("th",[this._v("Action")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("Full Name")]),this._v(" "),t("th",[this._v("Email")]),this._v(" "),t("th",[this._v("Action")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("Node Title")]),this._v(" "),t("th",[this._v("Node Level")]),this._v(" "),t("th",[this._v("Action")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",[this._v("Node Title")]),this._v(" "),t("th",[this._v("Node Level")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small"},[this._v("Close")])])}]};var Y=a("VU/8")(G,E,!1,function(e){a("/miC")},"data-v-49a372df",null).exports,O={name:"Reports",created:function(){this.getProvinces(),M.AutoInit()},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},watch:{selectedProvinceId:function(){}},data:function(){return{tabularRecords:[],selectedReportType:"visual",selectedDatasetType:"",selectedProvinceId:0,selectedProjectId:0,startDate:(new Date).toISOString().slice(0,10),endDate:(new Date).toISOString().slice(0,10),allProvinces:[],colors:["#3366CC","#FF9900","#DC3912","#cb2ad3","#8fc415","#4DD0E1","#F57C00","#64B5F6","#2e6996","#7678bf"],provinceStats:{TotalDamaged:0,TotalDistributed:0,TotalLost:0,TotalRceived:0,TotalSent:0},districtsChartData:[["District","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],districtsChartOptions:{legend:"none",title:"BOOKS DISTRIBUTED TO STUDENTS AND TEACHERS BY DISTRICT"},langsChartData:[["Language","Total",{role:"annotation"}],[null,0,0]],langsChartOptions:{title:"BOOKS DISTRIBUTED TO STUDENTS AND TEACHERS BY LANGUAGE",sliceVisibilityThreshold:1e-4},gradesChartData:[["Grade","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],gradesChartOptions:{legend:"none",title:"BOOKS DISTRIBUTED TO STUDENTS AND TEACHERS BY GRADE"},titlesChartData:[["Title","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],titlesChartOptions:{legend:"none",title:"BOOKS DISTRIBUTED TO STUDENTS AND TEACHERS BY TITLE"}}},methods:{downloadDataSet:function(){"sent"==this.selectedDatasetType?this.downloadSentReceivedDataset():"distributed"==this.selectedDatasetType?this.downloadDistributionDataset():console.log("Please select a valid dataset type.")},downloadDistributionDataset:function(){var e=this;this.$http.get("/reports/students/"+this.selectedProvinceId+"/excel",{responseType:"blob",params:this.$http.defaults.params}).then(function(t){console.log(t),e.forceFileDownload(t,"DistributionToBeneficiaries.csv")}).catch(function(e){console.log(e)})},downloadSentReceivedDataset:function(){var e=this;this.$http.get("/reports/sent/"+this.selectedProvinceId+"/excel",{responseType:"blob",params:this.$http.defaults.params}).then(function(t){console.log(t),e.forceFileDownload(t,"VendorsToSchools.csv")}).catch(function(e){console.log(e)})},forceFileDownload:function(e,t){var a=window.URL.createObjectURL(e.data),s=document.createElement("a");s.href=a,s.setAttribute("download",t),s.click()},getReports:function(){console.log(this.startDate),console.log(this.endDate),console.log(this.selectedProvinceId),console.log(this.selectedProjectId),this.getProvinceStats(),"visual"==this.selectedReportType?this.getProvinceVisualReports():"tabular"==this.selectedReportType&&this.getProvinceTabularRecords()},getProvinceVisualReports:function(){this.getDistributedToStudentsByLanguage(),this.getDistributedToStudentsByDistricts(),this.getDistributedToStudentsByGrades(),this.getDistributedToStudentsByTitles()},getProvinceTabularReports:function(){this.getProvinceTabularRecords()},getProvinceTabularRecords:function(){var e=this;this.$http.post("/reports/province/tabular",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){e.tabularRecords=t.data}).catch(function(e){console.log(e)})},getProvinceStats:function(){var e=this;this.$http.post("/reports/province/stats",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){e.provinceStats={TotalDamaged:0,TotalDistributed:0,TotalLost:0,TotalRceived:0,TotalSent:0},t.data[0]&&(console.log(t.data[0]),e.provinceStats=t.data[0])}).catch(function(e){console.log(e)})},getDistributedToStudentsByTitles:function(){var e=this;this.$http.post("/reports/students/province/titles",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){var a=t.data;e.titlesChartData=[["Title","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],a.length>0&&(e.titlesChartData=[["Title","Total",{role:"style"},{role:"annotation"}]]),a.forEach(function(t){var a=[t.Title,parseInt(t.TotalDistributed),e.colors[Math.floor(Math.random()*e.colors.length)],parseInt(t.TotalDistributed)];e.titlesChartData.push(a)})}).catch(function(e){console.log(e)})},getDistributedToStudentsByGrades:function(){var e=this;this.$http.post("/reports/students/province/grades",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){var a=t.data;e.gradesChartData=[["Grade","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],a.length>0&&(e.gradesChartData=[["Grade","Total",{role:"style"},{role:"annotation"}]]),a.forEach(function(t){var a=[t.Grade,parseInt(t.TotalDistributed),e.colors[Math.floor(Math.random()*e.colors.length)],parseInt(t.TotalDistributed)];e.gradesChartData.push(a)})}).catch(function(e){console.log(e)})},getDistributedToStudentsByLanguage:function(){var e=this;this.$http.post("/reports/students/province/languages",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){var a=t.data;e.langsChartData=[["Language","Total",{role:"annotation"}],[null,0,0]],a.forEach(function(t){var a=[t.Lang,parseInt(t.TotalDistributed),parseInt(t.TotalDistributed)];e.langsChartData.push(a)})}).catch(function(e){console.log(e)})},getDistributedToStudentsByDistricts:function(){var e=this;this.$http.post("/reports/students/province/districts",{provinceId:this.selectedProvinceId,projectId:this.selectedProjectId,startDate:this.startDate,endDate:this.endDate},{params:this.$http.defaults.params}).then(function(t){var a=t.data;e.districtsChartData=[["District","Total",{role:"style"},{role:"annotation"}],[null,0,"#8fc415",0]],a.length>0&&(e.districtsChartData=[["District","Total",{role:"style"},{role:"annotation"}]]),a.forEach(function(t){var a=[t.District,parseInt(t.TotalDistributed),e.colors[Math.floor(Math.random()*e.colors.length)],parseInt(t.TotalDistributed)];e.districtsChartData.push(a)})}).catch(function(e){console.log(e)})},getProvinces:function(){var e=this;this.$http.get("/meta/provinces",{params:this.$http.defaults.params}).then(function(t){e.allProvinces=t.data}).catch(function(e){console.log(e)})},formatNumber:function(e){if(null!=e)return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"reportsPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Distribution Reports")]),e._v(" "),a("div",{staticClass:"form-field",staticStyle:{"margin-bottom":"30px"}},[a("label",{attrs:{for:"reportTypeDDL"}},[e._v("Report Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedReportType,expression:"selectedReportType"}],attrs:{id:"reportTypeDDL",name:"reportTypeDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedReportType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select Report Type")]),e._v(" "),a("option",{attrs:{value:"visual"}},[e._v("Visualized Report")]),e._v(" "),a("option",{attrs:{value:"tabular"}},[e._v("Tabular Report")])])]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"provinceDDL"}},[e._v("Province")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProvinceId,expression:"selectedProvinceId"}],attrs:{id:"provinceDDL",name:"provinceDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedProvinceId=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select Province")]),e._v(" "),e._l(e.allProvinces,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.en_name))])})],2)]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"projectDDL"}},[e._v("Project")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProjectId,expression:"selectedProjectId"}],attrs:{id:"projectDDL",name:"projectDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedProjectId=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select Project")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-field col s6"},[a("label",{attrs:{for:"startDatePicker"}},[e._v("Start Date")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startDate,expression:"startDate"}],attrs:{id:"startDatePicker",type:"date"},domProps:{value:e.startDate},on:{input:function(t){t.target.composing||(e.startDate=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-field col s6"},[a("label",{attrs:{for:"endDatePicker"}},[e._v("End Date")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endDate,expression:"endDate"}],attrs:{id:"endDatePicker",type:"date"},domProps:{value:e.endDate},on:{input:function(t){t.target.composing||(e.endDate=t.target.value)}}})])]),e._v(" "),a("a",{staticClass:"btn waves-effect light-blue darken-4",on:{click:e.getReports}},[e._v("Get Reports")]),e._v(" "),a("a",{staticClass:"btn waves-effect modal-trigger",attrs:{href:"#modalDownloadDatasets"}},[e._v("Download Datasets")])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Quick Stats")]),e._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-bottom":"-20px"}},[a("div",{staticClass:"col s4"},[a("div",{staticClass:"card cyan lighten-2"},[a("div",{staticClass:"card-content white-text"},[a("p",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(e._s(null!=e.provinceStats.TotalSent?e.formatNumber(e.provinceStats.TotalSent):0))]),e._v(" "),a("p",{staticStyle:{"text-transform":"uppercase"}},[e._v("Sent by Vendors")])])])]),e._v(" "),a("div",{staticClass:"col s4"},[a("div",{staticClass:"card orange darken-2"},[a("div",{staticClass:"card-content white-text"},[a("p",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(e._s(null!=e.provinceStats.TotalRceived?e.formatNumber(e.provinceStats.TotalRceived):0))]),e._v(" "),a("p",{staticStyle:{"text-transform":"uppercase"}},[e._v("Received by Schools")])])])]),e._v(" "),a("div",{staticClass:"col s4"},[a("div",{staticClass:"card blue lighten-2"},[a("div",{staticClass:"card-content white-text"},[a("p",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(e._s(null!=e.provinceStats.TotalDistributed?e.formatNumber(e.provinceStats.TotalDistributed):0))]),e._v(" "),a("p",{staticStyle:{"text-transform":"uppercase"}},[e._v("Distributed to Beneficiaries")])])])])])])])])]),e._v(" "),"tabular"==e.selectedReportType?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Books Inventory & Distribution")]),e._v(" "),a("table",{staticClass:"striped"},[e._m(0),e._v(" "),a("tbody",e._l(e.tabularRecords,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.Province))]),e._v(" "),a("td",[e._v(e._s(t.District))]),e._v(" "),a("td",[e._v(e._s(t.Grade))]),e._v(" "),a("td",[e._v(e._s(t.Lang))]),e._v(" "),a("td",[e._v(e._s(t.Title))]),e._v(" "),a("td",[e._v(e._s(e.formatNumber(t.TotalDistributed)))])])}),0)])])])])]):e._e(),e._v(" "),"visual"==e.selectedReportType?a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Distributed to Beneficiaries")]),e._v(" "),a("div",{staticStyle:{border:"2px solid #e2e2e2"}},[a("GChart",{attrs:{type:"PieChart",data:e.langsChartData,options:e.langsChartOptions}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px",border:"2px solid #e2e2e2"}},[a("GChart",{attrs:{type:"ColumnChart",data:e.districtsChartData,options:e.districtsChartOptions}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px",border:"2px solid #e2e2e2"}},[a("GChart",{attrs:{type:"ColumnChart",data:e.gradesChartData,options:e.gradesChartOptions}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px",border:"2px solid #e2e2e2"}},[a("GChart",{attrs:{type:"ColumnChart",data:e.titlesChartData,options:e.titlesChartOptions}})],1)])])])]):e._e()]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modalDownloadDatasets"}},[a("div",{staticClass:"modal-content"},[a("h4",[e._v("Download Datasets")]),e._v(" "),a("p",[e._v("Please remember that the complete dataset of the selected type for the selected province will be downloaded. Date range and other filters will not be applied.")]),e._v(" "),a("p",[e._v("The downloaded CSV dataset should be imported to Microsoft Excel using its From Text/CSV import feature.")]),e._v(" "),a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"datasetTypeDDL"}},[e._v("Dataset Type")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDatasetType,expression:"selectedDatasetType"}],attrs:{id:"datasetTypeDDL",name:"datasetTypeDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedDatasetType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Dataset Type")]),e._v(" "),a("option",{attrs:{value:"distributed"}},[e._v("Distributed to Beneficiaries Dataset")]),e._v(" "),a("option",{attrs:{value:"sent"}},[e._v("Sent by Vendors to Schools Dataset")])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect light-blue darken-4 btn-small",on:{click:e.downloadDataSet}},[e._v("Download")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Province")]),e._v(" "),a("th",[e._v("District")]),e._v(" "),a("th",[e._v("Grade")]),e._v(" "),a("th",[e._v("Language")]),e._v(" "),a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Quantity Distributed")])])])}]};var q=a("VU/8")(O,F,!1,function(e){a("2PnV")},null,null).exports,Q={name:"Reports",created:function(){},updated:function(){var e=document.querySelectorAll("select");M.FormSelect.init(e)},data:function(){return{selectedProvince:"kabul"}},methods:{downloadReport:function(){"kabul"==this.selectedProvince||"herat"==this.selectedProvince?window.open("http://74.208.121.179/SRM_Printed_and_Distributed_Herat_and_Kabul_2019.xlsx","_blank"):"nangarhar"!=this.selectedProvince&&"laghman"!=this.selectedProvince||window.open("http://74.208.121.179/SRM_Printed_and_Distributed_Nangarhar_and_Laghman_2019.xlsx","_blank")}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{width:"100%"},attrs:{id:"reportsPage"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Supplementary Reading Materials (SRMs) Distribution Reports")]),e._v(" "),a("p",[e._v("Please select a province and click the Download button to download the Supplementary Reading Materials (SRM) distribution datasets/reports for 2019.")]),e._v(" "),a("div",{staticClass:"form-field",staticStyle:{"margin-top":"10px"}},[a("label",{attrs:{for:"provinceDDL"}},[e._v("Province")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProvince,expression:"selectedProvince"}],attrs:{id:"provinceDDL",name:"provinceDDL"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedProvince=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select Province")]),e._v(" "),a("option",{attrs:{value:"herat"}},[e._v("Herat")]),e._v(" "),a("option",{attrs:{value:"kabul"}},[e._v("Kabul")]),e._v(" "),a("option",{attrs:{value:"laghman"}},[e._v("Laghman")]),e._v(" "),a("option",{attrs:{value:"nangarhar"}},[e._v("Nangarhar")])])]),e._v(" "),a("button",{staticClass:"btn waves-effect light-blue darken-4",attrs:{id:"downloadSRM"},on:{click:e.downloadReport}},[e._v("Download")])])])])]),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("div",{staticClass:"card left-align",staticStyle:{width:"100%"}},[a("div",{staticClass:"card-content"},[a("span",{staticClass:"card-title"},[e._v("Total SRMs Printed and Distributed by Province in 2019")]),e._v(" "),a("table",{staticClass:"striped"},[a("thead",[a("tr",[a("th",[e._v("Province")]),e._v(" "),a("th",[e._v("Grade 1")]),e._v(" "),a("th",[e._v("Grade 2")]),e._v(" "),a("th",[e._v("Grade 3")]),e._v(" "),a("th",[e._v("Total")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Herat")]),e._v(" "),a("td",[e._v("204,206")]),e._v(" "),a("td",[e._v("189,539")]),e._v(" "),a("td",[e._v("187,418")]),e._v(" "),a("td",[e._v("581,163")])]),e._v(" "),a("tr",[a("td",[e._v("Kabul")]),e._v(" "),a("td",[e._v("47,922")]),e._v(" "),a("td",[e._v("44,353")]),e._v(" "),a("td",[e._v("40,178")]),e._v(" "),a("td",[e._v("132,453")])]),e._v(" "),a("tr",[a("td",[e._v("Laghman")]),e._v(" "),a("td",[e._v("16,672")]),e._v(" "),a("td",[e._v("18,056")]),e._v(" "),a("td",[e._v("12,868")]),e._v(" "),a("td",[e._v("47,596")])]),e._v(" "),a("tr",[a("td",[e._v("Nangarhar")]),e._v(" "),a("td",[e._v("74,496")]),e._v(" "),a("td",[e._v("66,634")]),e._v(" "),a("td",[e._v("57,666")]),e._v(" "),a("td",[e._v("198,796")])]),e._v(" "),a("tr",[a("td",[e._v("Total")]),e._v(" "),a("td",[e._v("343,296")]),e._v(" "),a("td",[e._v("318,582")]),e._v(" "),a("td",[e._v("298,130")]),e._v(" "),a("td",[e._v("960,008")])])])])])])])])}]};var H=a("VU/8")(Q,V,!1,function(e){a("hQaF")},null,null).exports;n.a.use(d.a);var K=new d.a({routes:[{path:"/",component:_,name:"Home"},{path:"/home",name:"Home2",component:_},{path:"/send-package",name:"SendPackage",component:b},{path:"/receive-package",name:"ReceivePackage",component:C},{path:"/current-balance",name:"CurrentBalance",component:D},{path:"/student-dist",name:"StudentDist",component:N},{path:"/sr-beneficiary",name:"SendReceiveBeneficiary",component:L},{path:"/reports",name:"Reports",component:q},{path:"/srm",name:"SupplementaryReports",component:H},{path:"/admin/packages",name:"AdminManagePackages",component:U},{path:"/admin/nodes",name:"AdminManageNodes",component:Y},{path:"/login",name:"Login",component:y,meta:{plainLayout:!0}}]}),J=a("mtWM"),z=a.n(J),Z=a("NYxO");n.a.use(Z.a);var W=new Z.a.Store({state:{userObj:null,userNodeObj:{title:"Unknown"},device:{desktop:!1},receivingPackageObj:null,srBeneficiaryObj:null,thirdLanguagesObj:null},mutations:{setUser:function(e,t){e.userObj=t},setNode:function(e,t){e.userNodeObj=t},setReceivingPackage:function(e,t){e.receivingPackageObj=t},setSRBeneficiaryObj:function(e,t){e.srBeneficiaryObj=t},setThirdLanguagesObj:function(e,t){e.thirdLanguagesObj=t}},getters:{userObj:function(e){return e.userObj},userNodeObj:function(e){return e.userNodeObj},device:function(e){return e.device},receivingPackageObj:function(e){return e.receivingPackageObj},srBeneficiaryObj:function(e){return e.srBeneficiaryObj},thirdLanguagesObj:function(e){return e.thirdLanguagesObj}}}),X=a("zYko"),ee=a.n(X),te=a("kXf/"),ae=a("TXmL");n.a.prototype.moment=window.moment,n.a.use(ae.a),n.a.use(te.default),n.a.use(ee.a,{color:"#01579B",failedColor:"red",height:"2px",thickness:"6px"});var se={en:{text:{pashto:"Pashto",english:"English",dari:"Dari",home:"Home",send_package:"Send Package",sent_packages:"Sent Packages",received_packages:"Received Packages",package_id:"Package ID",title:"Title",sent_date:"Sent Date",from:"From",to:"To",status:"Status",action:"Action",received:"Received",pending:"Pending",view_details:"View Details",no_sent_package:"No package sent yet.",no_received_package:"No package received yet.",send_new_package:"Send New Package",view_more:"View More",view_pending_packages:"View Pending Packages",shipment_details:"Shipment Details",close:"Close",shipment_title:"Shipment Title",total_received:"Total Received",shipment_description:"Shipment Description",total_safe:"Total Safe",send_date:"Sent Date",total_damaged:"Total Damaged",received_date:"Received Date",total_lost:"Total Lost",sender_name:"Sender Name",current_status:"Current Status",receive:"Receive",document_title:"Document Title",type:"Type",download:"Download",sent:"Sent",no_uploaded_documents:"No documents uploaded yet.",upload_new:"Upload New",damaged:"Damaged",lost:"Lost",grade:"Grade",language:"Language",quantity:"Quantity",upload_document:"Upload Document",select_file:"Select File",uploading_document_wait:"Uploading document. Please wait...",upload_document_error:"The document could not be uploaded. Please try again.",menu_dashboard:"Dashboard",menu_send_package:"Send Package",menu_receive_package:"Receive Package",menu_current_inventory:"Current Inventory",menu_distribute_to_students:"Distribute to Students",menu_distribution_reports:"Distribution Reports",menu_srm_distribution:"SRM Distribution",menu_admin_panel:"Admin Panel",menu_manage_nodes:"Manage Nodes",menu_manage_packages:"Manage Packages",menu_manage_users:"Manage Users",menu_logout:"Logout",otims_title:"OTIMS",enter_credentials:"Please enter your email address and password to login.",wrong_credentials:"Wrong username or password. Please try again.",email:"Email",password:"Password",remember_me:"Remember Me",login:"Login",send_new_package_title:"Send New Package",package_information:"Package Information",shipment_recipient_level:"Shipment Recipient Level",select_level:"Select Level",select_province:"Select Province",select_district:"Select District",select_recipient:"Select Recipient",shipment_recipient:"Shipment Recipient",textbooks_project:"Textbooks Project",select_project:"Select Project",shipment_date:"Shipment Date",titles_and_quantities:"Titles & Quantities",add_title:"Add Title",load_template:"Load Template",add_title_help:"* Click the Add Title button to add a new title to the form.",subject_title:"Title",other_languages:"Other Languages",select_language:"Select Language",send_package_title:"Send Package",send_package_help:"* Please make sure that you have reviewed all the information you have entered before clicking the Send Package button.",add_title_dialog_help:"Please select a grade and a title under a grade to add to the form.",select_grade:"Select Grade",select_title:"Select Title",load_template_dialog_help:"Please select a template from the drop down list to load. Templates help you add relevant Titles easily, and once added, they can be customized by adding or removing Titles.",template:"Template",select_template:"Select Template",confirm_shipment_details:"Confirm Shipment Details",confirm_shipment_details_help:"Please review the following and make sure they are correct before pressing the Send Package button.",shipment_recipient_province:"Shipment Recipient Province",shipment_recipient_district:"Shipment Recipient District",grand_total:"Grand Total",cancel:"Cancel",select_sr_level:"Please select a Shipment Recipient Level.",select_sr_province:"Please select a Shipment Recipient Province.",select_sr_district:"Please select a Shipment Recipient District.",select_sr_node:"Please select a Shipment Recipient Node.",add_some_titles:"Please add some Titles and their quantities to your Shipment.",correct_form_error:"Error: please make sure you have correctly filled the form and try again.",confirm_remove_title:"Are you sure you want to remove this Title?",select_specific_grade_title:"Please select a Title for a specific Grade and then click Add Title.",title_already_added:"Title {0} for {1} is already added to the entry form.",current_inventory_title:"Current Inventory",no_inventory_data:"No data available or inventory records empty.",pending_packages:"Pending Packages",no_pending_packages:"No pending package in your received packages list.",receive_package:"Receive Package",fill_with_sent_quantities:"Fill with Sent Quantities",fine:"Fine",total:"Total",receiving_date:"Receiving Date",receive_help:"* Please make sure that you have reviewed all the information you have entered before clicking the Receive Package button.",receive_error:"Error: please make sure you have correctly filled the form and try again.",student_level_distribution_title:"Student Level Distribution",school:"School",select_school:"Select School",delivered_to_students:"Delivered to Students",no_package_delivered:"No package delivered yet.",deliver_to_students:"Deliver to Students",received_from_students:"Received from Students",beneficiaries:"Beneficiaries",receive_from_students:"Receive from Students",send_receive_help:"* Please make sure that you have reviewed all the information you have entered before clicking the {0} button",confirm_send_receive_help:"Please review the following and make sure they are correct before pressing the {0} button",self_selected_school:"Self / Selected School",select_date:"Select Date"}},ps:{text:{pashto:"پښتو",english:"انګريزي",dari:"دري",home:"کورپاڼه",send_package:"د بستې استول",sent_packages:"استول شوې بستې",received_packages:"ترلاسه شوې بستې",package_id:"د بستې شمېره",title:"سرلیک",sent_date:"د لېږلو نېټه",from:"لېږونکی",to:"ترلاسه کوونکی",status:"حالت",action:"عمل",received:"ترلاسه شوی",pending:"په لاره",view_details:"تفصيل",no_sent_package:"تر اوسه هيڅ بسته نه ده لېږدول شوې.",no_received_package:"تر اوسه هيڅ بسته نه ده ترلاسه شوې.",send_new_package:"د نوې بستې استول",view_more:"د نورو بستو کتل",view_pending_packages:"د پر لاره بستو کتل",shipment_details:"د بستې تفصيل",close:"بندول",shipment_title:"د بستې سرليک",total_received:"ټول ترلاسه شوي",shipment_description:"د بستې لنډيز",total_safe:"ټول خوندي",send_date:"د لېږلو نېټه",total_damaged:"ټول زيانمن",received_date:"د ترلاسه کولو نېټه",total_lost:"ټول ورک",sender_name:"د لېږونکي نوم",current_status:"اوسنی حالت",receive:"ترلاسه کول",document_title:"د لاسوند سرليک",type:"ډول",download:"ښکته کول",sent:"لېږل شوی",no_uploaded_documents:"تر اوسه هيڅ لاسوند نه دی پورته شوی.",upload_new:"لاسوند پورته کول",damaged:"زيانمن شوي",lost:"ورک شوي",grade:"ټولګی",language:"ژبه",quantity:"ټول",upload_document:"لاسوند پورته کول",select_file:"لاسوند ټاکل",uploading_document_wait:"لاسوند پورته کيږي. مهرباني وکړئ لږ انتظار وکړئ...",upload_document_error:"لاسوند پورته نه کړل شو. مهرباني وکړئ وروسته هڅه وکړئ.",menu_dashboard:"کورپاڼه",menu_send_package:"د بستې استول",menu_receive_package:"د بستې ترلاسه کول",menu_current_inventory:"موجود کتابونه",menu_distribute_to_students:"زده کوونکو ته د کتابونو وېشل",menu_distribution_reports:"د کتابونو د وېش راپور",menu_srm_distribution:"SRM Distribution",menu_admin_panel:"د مديريت برخه",menu_manage_nodes:"د برخو مديريت",menu_manage_packages:"د بستو مديريت",menu_manage_users:"د کاروونکو مديريت",menu_logout:"وتل",otims_title:"OTIMS",enter_credentials:"سيسټم ته د ننوتو لپاره مهرباني وکړئ خپل کارن نوم او پټ نوم وليکئ.",wrong_credentials:"کارن نوم او يا پټ نوم سم نه دي. مهرباني وکړئ بيا هڅه وکړئ.",email:"برېښناليک",password:"پټ نوم",remember_me:"ما په ياد وساته",login:"ننوتل",send_new_package_title:"د نوې بستې استول",package_information:"د بستې معلومات",shipment_recipient_level:"د بستې د ترلاسه کوونکي کچه",select_level:"کچه وټاکئ",select_province:"ولايت وټاکئ",select_district:"ولسوالۍ وټاکئ",select_recipient:"ترلاسه کوونکی وټاکئ",shipment_recipient:"د بستې ترلاسه کوونکی",textbooks_project:"د کتابونو پروژه",select_project:"پروژه وټاکئ",shipment_date:"د بستې نېټه",titles_and_quantities:"مضمونونه او تعدادونه",add_title:"مضمون زیاتول",load_template:"ټېمپليټ اړول",add_title_help:"* فورم ته د نوي مضمون زياتولو لپاره، د مضمون زياتول تڼۍ کيکاږئ.",subject_title:"مضمون",other_languages:"نورې ژبې",select_language:"ژبه وټاکئ",send_package_title:"بسته استول",send_package_help:"* له دې نه مخکې چې د بسته استول تڼۍ کيکاږئ، مهرباني وکړئ خپل ټول ليکل شوي معلومات د سموالي لپاره يو ځل بيا وګورئ.",add_title_dialog_help:"مهرباني وکړئ لومړی يو ټولګی وټاکئ او بيا د هغې ټولګي يو مضمون وټاکئ.",select_grade:"ټولګی وټاکئ",select_title:"مضمون وټاکئ",load_template_dialog_help:"مهرباني وکړئ يو ټېمپليټ وټاکئ. ټېمپليټونه تاسو سره د اړوندو مضمونونو په اسانۍ سره فورم ته زياتولو کې مرسته کوي. تاسو پکې وروسته نور تغيرات هم راوستلی شئ.",template:"ټېمپليټ",select_template:"ټېمپليټ وټاکئ",confirm_shipment_details:"د بستې معلومات تايدول",confirm_shipment_details_help:"د بسته استول تڼۍ د کيکاږلو نه مخکې، مهرباني وکړئ لاندې ټول معلومات يو ځل بيا د سموالي لپاره وګورئ.",shipment_recipient_province:"د بستې د ترلاسه کوونکي ولايت",shipment_recipient_district:"د بستې د ترلاسه کوونکي ولسوالۍ",grand_total:"ټولټال",cancel:"بندول",select_sr_level:"مهرباني وکړئ د بستې د ترلاسه کوونکي کچه وټاکئ.",select_sr_province:"مهرباني وکړئ د بستې د ترلاسه کوونکي ولايت وټاکئ.",select_sr_district:"مهرباني وکړئ د بستې د ترلاسه کوونکي ولسوالۍ وټاکئ.",select_sr_node:"مهرباني وکړئ د بستې ترلاسه کوونکی وټاکئ.",add_some_titles:"مهرباني وکړئ په بسته کې يو څو مضمونونه او د هغوی تعدادونه ورزيات کړئ.",correct_form_error:"مهرباني وکړئ فورم په سمه توګه ډک کړئ او يو ځل بيا هڅه وکړئ.",confirm_remove_title:"ايا غواړئ چې دا مضمون له منځه يوسئ؟",select_specific_grade_title:"مهرباني وکړئ ټولګی او مضمون وټاکئ او بيا هڅه وکړئ.",title_already_added:"د {0} مضمون د {1} له مخکې نه په فورم کې زيات کړل شوی دی.",current_inventory_title:"موجود کتابونه",no_inventory_data:"د موجودو کتابونو په اړه هيڅ معلومات نشته.",pending_packages:"پر لاره بستې",no_pending_packages:"ستاسو د ترلاسه شويو بستو په لړ کې هيڅ پر لاره بستې نشته.",receive_package:"بسته ترلاسه کول",fill_with_sent_quantities:"د لېږل شويو تعدادونو له مخې ډکول",fine:"روغ",total:"ټول",receiving_date:"د ترلاسه کولو نېټه",receive_help:"* له دې نه مخکې چې د بسته ترلاسه کول تڼۍ کيکاږئ، مهرباني وکړئ خپل ټول ليکل شوي معلومات د سموالي لپاره يو ځل بيا وګورئ.",receive_error:"مهرباني وکړئ فورم په سمه توګه ډک کړئ او يو ځل بيا هڅه وکړئ.",student_level_distribution_title:"زده کوونکو ته د کتابونو وېشل",school:"ښوونځی",select_school:"ښوونځی وټاکئ",delivered_to_students:"زده کوونکو ته وېشل شوي",no_package_delivered:"تر اوسه هيڅ کتابونه نه دي وېشل شوي.",deliver_to_students:"زده کوونکو ته وېشل",received_from_students:"له زده کوونکو ترلاسه شوي",beneficiaries:"زده کوونکي",receive_from_students:"له زده کوونکو ترلاسه کول",send_receive_help:"* له دې نه مخکې چې د {0} تڼۍ کيکاږئ، مهرباني وکړئ خپل ټول ليکل شوي معلومات د سموالي لپاره يو ځل بيا وګورئ.",confirm_send_receive_help:"د {0} تڼۍ د کيکاږلو نه مخکې، مهرباني وکړئ لاندې ټول معلومات يو ځل بيا د سموالي لپاره وګورئ.",self_selected_school:"خپله / ټاکل شوی ښوونځی",select_date:"نېټه وټاکئ"}},da:{text:{pashto:"پښتو",english:"English",dari:"دری",home:"صفحه اصلی",send_package:"ارسال بسته",sent_packages:"بسته های ارسال شده",received_packages:"بسته های دریافت شده",package_id:"شماره بسته",title:"عنوان",sent_date:"تاریخ ارسال",from:"از جانب",to:"برای",status:"حالت فعلی",action:"عمل",received:"دریافت شده",pending:"در مسير",view_details:"تفصیل",no_sent_package:"هيچ بسته ارسال نه شده.",no_received_package:"هيچ بسته دريافت نه شده.",send_new_package:"ارسال بسته جدید",view_more:"نمایش بسته ها",view_pending_packages:"نمایش بسته های در مسير",shipment_details:"تفصیل بسته",close:"بسته کردن",shipment_title:"عنوان بسته",total_received:"مجموعه دريافت شده",shipment_description:"شرح بسته",total_safe:"مجموعه قابل استفاده",send_date:"تاريخ ارسال",total_damaged:"مجموعه تخريب شده",received_date:"تاريخ دريافت",total_lost:"مجموعه مفقود شده",sender_name:"اسم ارسال کننده",current_status:"حالت فعلی",receive:"دريافت کردن",document_title:"عنوان سند",type:"نوع",download:"دانلود",sent:"ارسال شده",no_uploaded_documents:"هيچ سند اپلود نه شده.",upload_new:"اپلود سند",damaged:"تخريب شده",lost:"مفقود شده",grade:"صنف",language:"زبان",quantity:"مجموع",upload_document:"اپلود کردن سند",select_file:"انتخاب سند",uploading_document_wait:"سند اپلود میشود. لطفا منتظر باشید.",upload_document_error:"سند اپلود نه شد. لطفا دوباره کوشش نماید.",menu_dashboard:"صفحه اصلی",menu_send_package:"ارسال بسته",menu_receive_package:"دريافت بسته",menu_current_inventory:"کتب موجوده",menu_distribute_to_students:"توزیع کتب به شاگردان",menu_distribution_reports:"راپور توزيع کتب",menu_srm_distribution:"SRM Distribution",menu_admin_panel:"بخش تنظيم",menu_manage_nodes:"تنظيم بخش ها",menu_manage_packages:"تنظيم بسته ها",menu_manage_users:"تنظيم کاربران",menu_logout:"خروج",otims_title:"OTIMS",enter_credentials:"لطفا برای ورود به سیستم، نام کاربر و رمز ورود خود را نوشته کنید.",wrong_credentials:"نام کاربر و یا رمز ورود غلط می باشد.",email:"ايمیل ادرس",password:"رمز ورود",remember_me:"حفظ معلومات کاربر",login:"ورود",send_new_package_title:"ارسال بسته جدید",package_information:"معلومات بسته",shipment_recipient_level:"سطح دریافت کننده بسته",select_level:"انتخاب سطح",select_province:"انتخاب ولایت",select_district:"انتخاب ولسوالی",select_recipient:"انتخاب دریافت کننده",shipment_recipient:"دریافت کننده بسته",textbooks_project:"پروژه کتب",select_project:"انتخاب پروژه",shipment_date:"تاريخ بسته",titles_and_quantities:"مضامين و تعداد",add_title:"اضافه کردن مضمون",load_template:"آوردن تيمپليت",add_title_help:"* برای اضافه کردن مضمون جدید در فورم، لطفا تکمه اضافه کردن مضمون را فشار دهید.",subject_title:"مضمون",other_languages:"زبان های ديگر",select_language:"انتخاب زبان",send_package_title:"ارسال بسته",send_package_help:"* لطفا قبل از فشار دادن تکمه ارسال کردن بسته، از صحت بودن تمامی معلومات نوشته شده مطمین شوید.",add_title_dialog_help:"لطفا یک صنف مشخص و مضمون مشخص را انتخاب نماید تا در فورم اضافه شود.",select_grade:"انتخاب صنف",select_title:"انتخاب مضمون",load_template_dialog_help:"لطفا از فهرست ذیل یک تيمپلیت را انتخاب نماید. تيمپلیت ها به شما کمک می کند تا مضامین مربوطه را در فورم به طریقه اسان اضافه نماید. بعدا شما در فورم تغیرات آورده می توانید.",template:"تيمپليت",select_template:"انتخاب تيمپليت",confirm_shipment_details:"تايد معلومات بسته",confirm_shipment_details_help:"لطفا قبل از فشار دادن تکمه ارسال کردن بسته، معلومات ذیل را به دقت بخوانيد و از صحت بودن معلومات مطمين شوید.",shipment_recipient_province:"ولايت دريافت کننده بسته",shipment_recipient_district:"ولسوالی دريافت کننده بسته",grand_total:"مجموعه",cancel:"لغو",select_sr_level:"لطفا سطح دریافت کننده بسته را انتخاب نماید.",select_sr_province:"لطفا ولایت دریافت کننده بسته را انتخاب نماید.",select_sr_district:"لطفا ولسوالی دریافت کننده بسته را انتخاب نماید.",select_sr_node:"لطفا دریافت کننده بسته را انتخاب نماید.",add_some_titles:"لطفا مقداری مضامين و تعداد آنها را در فورم اضافه نماید.",correct_form_error:"لطفا فورم را درست پر نماید و دوباره کوشش نماید.",confirm_remove_title:"آيا مطمین هستید مضمون انتخاب شده حذف شود؟",select_specific_grade_title:"لطفا یک صنف مشخص و مضمون مشخص را انتخاب نماید و بعدا تکمه اضافه کردن مضمون را فشار دهید.",title_already_added:"مضمون {0} برای {1} قبلا در فورم اضافه گردیده.",current_inventory_title:"کتب موجوده",no_inventory_data:"هيچ معلومات درباره کتب موجوده وجود ندارد.",pending_packages:"بسته های در مسير",no_pending_packages:"در فهرست بسته های دریافتی شما هیچ بسته در مسير وجود نه دارد.",receive_package:"دريافت کردن بسته",fill_with_sent_quantities:"پر کردن فورم مطابق تعداد های ارسالی",fine:"قابل استفاده",total:"مجموعه",receiving_date:"تاريخ دريافت",receive_help:"* لطفا قبل از فشار دادن تکمه دريافت کردن بسته، از صحت بودن تمامی معلومات نوشته شده مطمین شوید.",receive_error:"لطفا فورم را درست پر نماید و دوباره کوشش نماید.",student_level_distribution_title:"توزيع کتب به شاگردان",school:"مکتب",select_school:"انتخاب مکتب",delivered_to_students:"توزيع شده به شاگردان",no_package_delivered:"هیچ بسته ارسال نه گردیده.",deliver_to_students:"توزيع کردن به شاگردان",received_from_students:"دريافت شده از شاگردان",beneficiaries:"شاگردان",receive_from_students:"دريافت کردن از شاگردان",send_receive_help:"* لطفا قبل از فشار دادن تکمه {0}، از صحت بودن تمامی معلومات نوشته شده مطمین شوید.",confirm_send_receive_help:"لطفا قبل از فشار دادن تکمه {0}، معلومات ذیل را به دقت بخوانيد و از صحت بودن معلومات مطمين شوید.",self_selected_school:"مکتب انتخاب شده",select_date:"انتخاب تاريخ"}}},ie=new ae.a({locale:"en",messages:se});z.a.defaults.baseURL="http://otims-af.com/legacy/mobile",z.a.defaults.headers.post["Content-Type"]="application/json",z.a.interceptors.request.use(function(e){return ne.$Progress.start(),e},function(e){return ne.$Progress.fail(),i.a.reject(e)}),z.a.interceptors.response.use(function(e){return ne.$Progress.finish(),e},function(e){return ne.$Progress.fail(),i.a.reject(e)}),K.beforeEach(function(e,t,a){"/login"!=e.path&&(W.getters.userObj||K.push("/login"),-1!=e.path.search("/admin")&&(W.getters.userObj.admin||(K.push("/login"),a(!1)))),a(!0)}),K.afterEach(function(e,t){console.log("Navigated from "+t.fullPath+" to "+e.fullPath)}),n.a.prototype.$http=z.a,n.a.config.productionTip=!1,n.a.mixin({mounted:function(){console.log("Main: Initializing MaterializeCSS Components."),M.AutoInit()}});var ne=new n.a({el:"#app",store:W,router:K,i18n:ie,components:{App:r},template:"<App/>"})},cP0U:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wCEAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJSQBBgYGCQgJEQkJESQYFBgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJP/CABEIAV4BXgMBEQACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABQYDBAcBAgj/2gAIAQEAAAAA/TYAAAAAAAAAAAAAAAAAEXqTeQAAAAADyBwy/K4/Yt13ygAAAADS5xA2KEwCY6pmAAAAAa/JNAAuPQQAAAAPKJSQBlvNwyAAAAD55zVQA+/iV6ntAAAAFEpAAb+3Cp7qfoAAAGnx3Geycns5PWaXpcCdUngAAAKfz03LvIgKhWi3dEAAAA5xVGx0PZAIKkEz1kAAADl9dXKxADFzTGkOxAAAAcyrXvTcwAVSrJTrwAAAHPqdu9HAB88/jbB1IAAACp85mb2ABX6XcugAAAAQnKLBdAAIOj9BuIAAAELy+cuAAEDSelWf0AAAEHRtm3AAQFW6ROfQAAAIas61qAAhYy3zfoAAAIyNx7YAHxgkZcAAADViwAAkd0AAADyN1vkAD3Zk/QAAACL1QAMsyAAAAGlHAAbkkAAAAHxC+AAltgAAAAEdpABsSwAAAAHzC/IB8zeUAAAABX/nIB8xVy+wAAAAIXX1Mm2GtHY5mxegAAABVqlcNiO1M/384PghbBdPoAAAArFPXHYa0fiBC+T939AAAAhKJ4t22NfXxee/Va8Wy1gAAHzFwkRo+G3ZtgDFWdEb81NyXoABpVyA1wH1NzfoiIHGA2p+w7oAR1UhfAAbdozeVqMAB7MWmVAxVCu+AAG7bICFAAE1ctsatA0QAAWWt+AABlu82+edR4AAGxrgAAe32ZhqCAAAAAAG50qtU4AAAAAAHTICpAAAAAAA6JGU4AAAAAAHRNaiAAAAAAA6V//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAVAAAAAAoBAAAAAAKBAAAAAAChAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//EAEUQAAIBAgIFBgsFBQgDAAAAAAECAwQFABEGEiExQRATMEBRcSAiMkJSYYGRobHRBxRQweEjMzRTYhUWJDVDcnODYGOy/9oACAEBAAE/AP8Ay2/aQU1ghjknVpDI2qEQjPLicUem9lq8g1Q0DHhKuXx3YhqIalBJDKkqHzkYEfg27acXbTO12vWRZPvMw8yLaB3ndjRq73LSKeSrkC09FEdVY0G129ZPZi7Xmks1MZ6qQD0UHlOewDF7vNRe65qmfYNyINyL2clJX1VBIJKWokhbtRss8WX7QnUrDdYwy7uejG0d4+mKephq4VmgkWSNhmGU5g/gd2u9JZqY1FVJqjcqjynPYBi+6X194Zo1Y09NwjQ7SPWePJQaZ1NqtMdBR08aOuZMrbcyTnuxWVtTcJzPVTPLIeLHwdHdI6mw1IKkvTsf2kROw+sevFHVw11NHU07h4pBmpH4DXVsVupJaqc5RxLrH1+rF5u9Req16mdjkdiJwRewdF9n16MNU1slb9nLm0efBuI9o+X4Buxp9f6eqijt9JOsmT60xQ5jZuGfR0tTJR1EdRC2rJGwZT6xi0faJFKViucPNE7Odj2r7RvGIKiKqiWaCRZI2GYZTmD113WNGd2CqozJJ2AY0p0yluLvSULtHSjYzjYZP06RomSNHIyD55evLksOkVXYqgNExeBj48ROxu7sOLbcqe60aVVM+sjcOKnsPr65p9pCS/8AZNM+QG2dhxPBektNnnus4VFKxA+PIRsA+uNKYY6Wthp4hkkUKqB7Ty6I39rNcFSRj91nIWQcFPBsAgjMbR1q7V62u3VFW/8ApoSB2ngPfieZ6iZ5pWLO7FmJ4k+AAScgMyeGKTRu5VYDCDm1PnSHV+G/EWhEp/fVaL6lUnC6EUw8qrlPcoGBoVQjfPUH2j6Y/uXQfzqj3j6Y/uXQfzaj3j6Yg0StkLBmSSUjg7bPhiKKOBBHEiog3KoyAxpkCLsp7Yl+Z8DQu6G5WSMO2ctOeab15bj7utfaPWmOhpqRT+9cu3cP1PgWy11F0n5qBdg8pzuUYtdio7WoKIHl4yMNvs7Oh03iyqaaXgyFfcf18D7OawxXKekJ8WaPWA9an6E9a+0WYveYos9kcI95J5aCiluFUlPEPGY7T2DicW+3w22mWCFcgN54se09FpjS89bFmA2wuCe47Pp4GiE5g0ioz6TFD7QR1rT0k6Ry+qNB8OXQ23iKkesYePKdVfUo/X5dHV061dNLA/kyKVOKiB6ad4ZBk6MVPLo8SL5QZfz0+fWvtATU0gZvTiQ/l+XIqlmCjeTkMUVOKSkhgXdGgXpNMLUQwuES7D4suXA8Dy6Lx85pBQL/AO0H3betfaTBq19JPlseIr7j+vJZofvF1pYyMwZAT7Nv5dLLEk8bRSKGRhkQeIxfLQ9pq9TMtE+2NvV2cmgsPPaRwHhGrP8ADL8+tfaLSc7aYagDbDLt7iMvnlyaJx695jPoKzfDL8+m00iDW6KTLakoHvB5Ps2p9auq6gjYkYQe0/p1rSnKptVTSKoLGMt3EbR8uTQtc7lK3ZEfmOm0w/yf/tX8+T7PQKe3uWGRnkJB7tn161UnnJpM+JIxcKf7rXTweg5A7s9mNCR/jKg9kY+fTaZHK1IO2UfI8lmg+5W+li3FEBPfvOAcxn1mT943ecaYU3M3TnQNkyBvaNn0xoR/E1J/oHz6bTT/ACyP/lHyOLRS/fblTw5ZguC3cNp5E8he7rNSurPIP6jjTSl5yhiqANsT5HuP65Y0IiP+Kly2eKvz6bS6IyWdmA/durH5fnjQqj1ppqthsQai9534QazqO05dauKas+twYYr6Na+jlpmOQkXLPLce3FstsVrpFp4iTtzZjvY9vTVEEdTC8Mo1kcapGLbb47ZSLTxEsASSx3knFEmvUL2Db1qvi5yHWA2rt9nUrbFqo0h87YO7rRGezFRQur5xrrKezhh0aNirDIjpgMzliKgld8nGqo3nCqEUKBkBsHXLgurUZ+kM+mpk150Hr69co80VxwOR6a2prSs/BR16WMSxsh4jDKVYqd4OXS0UXNQDPe209fuMGTc6o2HYeko4OelGY8Vdp/AHQOpVhmDiQBJXjBz1Tl0UkixIXY5AYpolihULxGZPb+A3FXSoeaPayk5jtGIZ0nTWQ947OgkkWJSznIDFVVNUN2INwxF+6T/aPwC9aTU9szhiymqPRB2L3/TFNO9TBHNJlryKGOXacVUD0z8/CSBxA4YguKPsk8Ru3hgEMMwQR6vA3Ynr4oswp129W7E07ztm57hwHJZdK4qgrTVmrFINiv5rfTG/r2kWk/NFqOhfx9zyjh6h9cEliSSSTvJxbv4GD/YPlgjMZHFXQFc3iGY4r2YSWSI+I7L3YW4zrvKt3jH9qSegmGuUx3BV9mJJ5ZfLcn1eA3lHvxYNJ3oitNWMXp9wY7Sn6YR1kQOjBlYZgjcR1zSjSHmdahpH8c7JHHm+oevlt38DB/sHy5aihjmzZfFftHHE1NLAfGXZ2jd4beUe/k0a0gNBIKWpYmnY7Cf9M/TAIYAg5g7iOtaSX0W2DmYGBqZBsy8wduCSxJJJJ2knltUqy2+Eqc9VdU+ojwCM9+JKGGTbq6p7Vw9rbzJAe8YNunG4Ke44+4VHofEYFunO8KO84koRBE0s0oVVGZyGCcyTy6J33PVt9S//ABMf/nqzOqKWZgoG8k5DFZpRbKTMc9zzDzYhn8d2KvTed8xS06Rj0nOscVN9uVXnzlXJkeCnVHwwWLHMkk9p8C33GW3yZp4yHykPHFHcIK5M4m8bip3joKmrhpIy8zhRwHE4uV0kr3y8iIbl/M+ACQcwcjikv1xosuaqnKjzX8YfHFJpw4yFXShv6ozl8Dij0jttZkFqBGx82TxT9MAhhmCCDxHUK68UNuB+8TqG9Bdre7FdptK+a0UAjHpybT7sVdxq65taonkk9ROwezoUdo2DoxVhuIOKDSDdHVj/ALB+eEdZFDowZTuI8AkAZnYMV9/jhzjpgJH9LzR9cT1EtTIZJXLse3oaO6VtAc6eokQejnmPdih02dclrYAw9OPYfdihvFDcQPu86lvQOxvd0lyv1FawRLJry8I02n9MXLSuurc0hP3aI8EPjHvOCSxJJJJ3k9LQ3KagfNDrId6HccUlVHWQiWI5g7xxB7ORmVFLMQFAzJPDF1vD1bGKIlYR726UEqQQSCOIxbtKq+hyWRvvEY82Tf7Di26R0NyyQPzUp8x9mfcePQVNTDSRNNPIsaLvJxd9LpqktDQ5wxbtfzm+mGYsSzEkneT1C1V5oakEn9m+xh+eAcxmN2L/AHAs/wB0jPir5ZHE9nUbVpTV2/KOUmohHmsfGHccW66Utzi5ynkBI8pTsZe8eDcbjBbKZp522blUb2PYMXW71F2n15myQeTGNy9Tt9wytBlY5tCCvf2Yd2kdnY5sxzJ6lTVM1JMs0EjRuu4jFh0kjugEE2UdSBu4P3fTld1jRncgKozJPAYvd2ku1Y0hJES7I17B9eqRVBSimhz8tlPz/TqiO0bh0YqynMEbwcaOXsXWmKSkCoiHjf1Dt5NLKk09nkCnIysE9nH5fhVormt1whnB2BsmHap34BBAI3HGnL5UtMna5PuH6/hdpmM9spZDvaNc/djTryKTvb8vwvRptayUvqUj4nGnCZ0lM/ZIR7x+n4Xo2urZKX1qT8TjTCIPZmbijq35fn+F2ZObtVIo/lKfhj//xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAECAQE/AHIf/8QAGBEBAQADAAAAAAAAAAAAAAAAEQBggKD/2gAIAQMBAT8A5PCIxhmZnfb/2Q=="},gJLU:function(e,t){},hQaF:function(e,t){},iKkR:function(e,t){},m1dB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d90cf5ea8621dcce4780.js.map