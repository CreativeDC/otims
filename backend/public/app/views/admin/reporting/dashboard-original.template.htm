<section class="content">
    <div class="box box-primary">
        <div class="box-header with-border">
            <h1 class="box-title">OTIMS Reporting module</h1>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="" data-original-title="Collapse">
                    <i class="fa fa-minus"></i></button>
                <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="" data-original-title="Remove">
                    <i class="fa fa-times"></i></button>
            </div>
        </div>
        <section class="invoice" style="border:none">
            <!-- form start -->

            <form name="frmSearchShipment" class="form-horizontal" novalidate="">
                <table class="tg" style="undefined; table-layout: fixed; width: 100%">

                    <tr>
                        <td class="tg-yw4l" style="width: 10%">
                            <label class=" control-label">Level</label>
                        </td>
                        <td class="tg-yw4l" style="width: 20%">
                            <select name="level_to" class="form-control" ng-model="search_shipment.level_to" ng-required="true" ng-change="level_changed(search_shipment.level_to)">
                                <option value="0"> Select recipient level</option>
                                <option ng-repeat="to_level in level_list" value="{{to_level.id}}"> {{to_level.title}}</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="tg-yw4l" style="width: 10%">
                            <label class=" control-label">Name</label>
                        </td>
                        <td class="tg-yw4l" style="width: 20%">
                            <div
                                    angucomplete-alt id="ex1"
                                    placeholder="Search recipient"
                                    maxlength="50"
                                    pause="100"
                                    selected-object="search_shipment.to"
                                    ng-required="true"
                                    local-data="to_node_list"
                                    search-fields="title"
                                    title-field="title"
                                    minlength="1"
                                    input-class="form-control form-control-small"
                                    match-class="highlight"
                                    >
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="tg-yw4l" style="width: 10%">

                        </td>
                        <td class="tg-yw4l" style="width: 20%">
                            <button type="button" class="btn btn-primary" id="btn-save" ng-click="searchReport(search_shipment.to)" ng-disabled="frmSearchShipment.$invalid">Search the report</button>
                        </td>
                    </tr>
                </table>
            </form>
        </section>
    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h1 class="box-title">Report Result</h1>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="" data-original-title="Collapse">
                    <i class="fa fa-minus"></i></button>
                <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="" data-original-title="Remove">
                    <i class="fa fa-times"></i></button>
            </div>

            <div class="box-body">
                <div class="table-responsive">
                    <table class="table no-margin">
                        <thead>
                        <tr>
                            <th>Title</th>
                            <th>Language</th>
                            <th>Grade</th>
                            <th>Received</th>
                            <th>Issued</th>
                            <th>Available balance</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="sent_item in sent_list | filter:searchText">
                            <td>{{  sent_item.title_title }}</td>
                            <td>{{  sent_item.lang_title }}</td>
                            <td>{{  sent_item.grade_title }}</td>
                            <td>{{  sent_item.received_total }}</td>
                            <td>{{  sent_item.issued_total }}</td>
                            <td>{{  sent_item.avalaible_total }}</td>
                        </tr>

                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
        </div>
        

    </div>
</section>